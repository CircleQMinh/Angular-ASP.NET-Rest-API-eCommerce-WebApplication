<nav class="navbar navbar-expand-lg navbar-dark bg-primary p-0 fixed-top" *ngIf="!isLoading">

    <a class="navbar-brand" routerLink="/home">
        <img src="https://res.cloudinary.com/dkmk9tdwx/image/upload/v1628192627/logo_v5ukvv.png"
            style="width: 40px;height: 40px;">Circle's Shop</a>
    <button class="navbar-toggler" type="button" (click)="isCollapsed = !isCollapsed"
        [attr.aria-expanded]="!isCollapsed" aria-controls="navbarSupportedContent" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse" [collapse]="isCollapsed">
        <ul class="navbar-nav  ml-auto ">
            <li class="nav-item px-2">
                <a href="javascript:void(0)" [class.active]="active_tab=='db'" (click)="switchTab('db')"
                    class="nav-link"><i class="fas fa-home"></i> Dashboard</a>
            </li>
            <li class="nav-item px-2">
                <a href="javascript:void(0)" [class.active]="active_tab=='order'" (click)="switchTab('order')"
                    class="nav-link"><i class="fas fa-shopping-cart"></i> Đơn hàng</a>
            </li>
            <li class="nav-item px-2">
                <a href="javascript:void(0)" [class.active]="active_tab=='product'" (click)="switchTab('product')"
                    class="nav-link"><i class="fas fa-box-open"></i> Sản phẩm</a>
            </li>
            <li class="nav-item px-2">
                <a href="javascript:void(0)" [class.active]="active_tab=='user'" (click)="switchTab('user')"
                    class="nav-link"><i class="far fa-user-circle"></i> Người dùng</a>
            </li>
            <li class="nav-item px-2">
                <a href="javascript:void(0)" [class.active]="active_tab=='employee'" (click)="switchTab('employee')"
                    class="nav-link"><i class="fas fa-id-card-alt"></i> Nhân viên</a>
            </li>
            <li class="nav-item px-2">
                <a href="javascript:void(0)" [class.active]="active_tab=='tk'" (click)="switchTab('tk')"
                    class="nav-link"><i class="fas fa-chart-line"></i> Thống kê</a>
            </li>
            <li class="nav-item px-2">
                <a href="javascript:void(0)" [class.active]="active_tab=='pm'" (click)="switchTab('pm')"
                    class="nav-link"><i class="fas fa-comment-dollar"></i> Khuyến mãi</a>
            </li>
        </ul>

        <ul class="navbar-nav ml-auto">
            <li class="nav-item dropdown mr-3">
                <div class="btn-group ">
                    <div class="btn-group mr-3" ngbDropdown role="group">
                        <a class="nav-link" aria-label="dropdownMenu1" id="dropdownMenu1" ngbDropdownToggle>
                            <i class="far fa-user"></i>
                            {{user.displayName}}</a>
                        <div class="dropdown-menu dd-menu" ngbDropdownMenu aria-labelledby="dropdownMenu1">
                            <a ngbDropdownItem routerLink="/profile/{{user.id}}"><i class="fas fa-clipboard-list"></i>
                                Tài khoản</a>
                            <hr>
                            <a ngbDropdownItem (click)="signOut()"><i class="fas fa-sign-out-alt"></i>
                                Đăng xuất</a>

                        </div>
                    </div>
                </div>
            </li>

        </ul>
    </div>

</nav>



<header id="main-header" class="py-2 bg-success text-white" *ngIf="active_tab=='db'&&!isLoading"
    style="margin-top: -15px;">
    <div class="container">
        <div class="row">
            <div class="col-md-6 ">
                <h1 *ngIf="active_tab=='db'" class="text-tron">
                    <i class="fas fa-home"></i> Dashboard
                </h1>

            </div>
        </div>
    </div>
</header>

<header id="main-header" class="py-2 bg-danger text-white" *ngIf="active_tab=='order'&&!isLoading"
    style="margin-top: -15px;">
    <div class="container">
        <div class="row">
            <div class="col-md-6 ">
                <h1 *ngIf="active_tab=='order'" class="text-tron">
                    <i class="fas fa-shopping-cart"></i> Quản lý Đơn hàng
                </h1>

            </div>
        </div>
    </div>
</header>


<header id="main-header" class="py-2 bg-warning text-white" *ngIf="active_tab=='product'&&!isLoading"
    style="margin-top: -15px;">
    <div class="container">
        <div class="row">
            <div class="col-md-6 ">
                <h1 *ngIf="active_tab=='product'" class="text-tron">
                    <i class="fas fa-box-open"></i> Quản lý Sản phẩm
                </h1>
            </div>
        </div>
    </div>
</header>

<header id="main-header" class="py-2 bg-info text-white" *ngIf="active_tab=='user'&&!isLoading"
    style="margin-top: -15px;">
    <div class="container">
        <div class="row">
            <div class="col-md-6 ">
                <h1 *ngIf="active_tab=='user'" class="text-tron">
                    <i class="fas fa-users"></i> Quản lý Người dùng
                </h1>
            </div>
        </div>
    </div>
</header>

<header id="main-header" class="py-2 bg-danger text-dark" *ngIf="active_tab=='employee'&&!isLoading"
    style="margin-top: -15px;">
    <div class="container">
        <div class="row">
            <div class="col-md-6 ">
                <h1 *ngIf="active_tab=='employee'" class="text-tron">
                    <i class="fas fa-id-card-alt"></i> Quản lý Nhân viên
                </h1>
            </div>
        </div>
    </div>
</header>

<header id="main-header" class="py-2 bg-warning text-white" *ngIf="active_tab=='tk'&&!isLoading"
    style="margin-top: -15px;">
    <div class="container">
        <div class="row">
            <div class="col-md-6 ">
                <h1 *ngIf="active_tab=='tk'" class="text-tron">
                    <i class="fas fa-chart-line"></i> Thống kê
                </h1>
            </div>
        </div>
    </div>
</header>

<header id="main-header" class="py-2 bg-warning text-white" *ngIf="active_tab=='pm'&&!isLoading"
    style="margin-top: -15px;">
    <div class="container">
        <div class="row">
            <div class="col-md-6 ">
                <h1 class="text-tron">
                    <i class="fas fa-comment-dollar"></i> Khuyến mãi
                </h1>
            </div>
        </div>
    </div>
</header>
<!-- ACTIONS -->
<section id="actions" class="py-4 mb-4 bg-light" *ngIf="!isLoading">
    <div class="container">
        <div class="row">
            <div class="col-md-3 mb-3">
                <a class="btn btn-success btn-block" (click)="switchTab('db')">
                    <i class="fas fa-home"></i> Dashboard
                </a>
            </div>
            <div class="col-md-3 mb-3">
                <a class="btn btn-danger btn-block" (click)="switchTab('order')">
                    <i class="fas fa-shopping-cart"></i> Đơn hàng
                </a>
            </div>
            <div class="col-md-3 mb-3">
                <a class="btn btn-warning btn-block" (click)="switchTab('product')">
                    <i class="fas fa-box-open"></i> Sản phẩm
                </a>
            </div>
            <div class="col-md-3 mb-3">
                <a class="btn btn-info btn-block" (click)="switchTab('user')">
                    <i class="far fa-user-circle"></i> Người dùng
                </a>
            </div>
            <div class="col-md-3 mb-3">
                <a class="btn btn-danger btn-block" (click)="switchTab('employee')">
                    <i class="fas fa-id-card-alt"></i> Nhân viên
                </a>
            </div>
            <div class="col-md-3 mb-3">
                <a class="btn btn-warning btn-block" (click)="switchTab('tk')">
                    <i class="fas fa-chart-line"></i> Thống kê
                </a>
            </div>
            <div class="col-md-3 mb-3">
                <a class="btn btn-info btn-block" (click)="switchTab('pm')">
                    <i class="fas fa-comment-dollar"></i> Khuyến mãi
                </a>
            </div>
        </div>
        <hr>
    </div>
</section>

<div class="loading-full" *ngIf="isLoading">
    <div class="spinner-border text-info" role="status" style="width: 4rem;height: 4rem;">
        <span class="visually-hidden">Loading...</span>
    </div>
    <p class="text monospace">Xin chờ 1 xíu...</p>
</div>
<!-- <div class="col" *ngIf="active_tab=='product'">
    <div class="div-center-content" style="margin-top: -25px;margin-bottom: 15px;" id='searchBarProduct'>
        <div class="wrap">
            <div class="search">
                <input type="text" class="searchTerm" placeholder="Bạn đang tìm sản phẩm nào?" [(ngModel)]="keyword"
                    [ngbTypeahead]="searchProduct" [resultTemplate]="rt"
                    (selectItem)="selectedItemProduct($event,edit_product)">
                <button type="submit" class="searchButton">
                    <i class="fa fa-search"></i>
                </button>
            </div>
        </div>
    </div>
</div> -->
<div class="col" *ngIf="active_tab=='product'">
    <div class="div-center-content" style="margin-top: -25px;margin-bottom: 15px;" id='searchBarProduct'>
        <div class="wrap">
            <div class="search">
                <input type="text" class="searchTerm" placeholder="Bạn đang tìm sản phẩm nào?"
                    [(ngModel)]="searchKey_Product" (keyup.enter)="getSearchResultProduct(product_search)">
                <button type="submit" class="searchButton" (click)="getSearchResultProduct(product_search)">
                    <i class="fa fa-search"></i>
                </button>
            </div>
        </div>
        <div class="form-group">
            <label>Tìm kiếm bằng : </label>
            <select class="form-select" [(ngModel)]="searchBy_Product">
                <option value="Id" selected="true">Id</option>
                <option value="Price">Giá</option>
                <option value="Name">Tên</option>
            </select>
        </div>
        <div *ngIf="isGettingSearchResult">
            <p>Đang tải kết quả tìm kiếm</p>
            <div class="spinner-border text-info" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>

    </div>
</div>
<div class="col" *ngIf="active_tab=='order'">
    <div class="div-center-content" style="margin-top: -25px;margin-bottom: 15px;" id='searchBarProduct'>
        <div class="wrap">
            <div class="search">
                <input type="text" class="searchTerm" placeholder="Bạn đang tìm đơn hàng nào?"
                    [(ngModel)]="searchKey_Order" (keyup.enter)="getSearchResultOrder(order_search)">
                <button type="submit" class="searchButton" (click)="getSearchResultOrder(order_search)">
                    <i class="fa fa-search"></i>
                </button>
            </div>
        </div>
        <div class="form-group">
            <label>Tìm kiếm bằng : </label>
            <select class="form-select" [(ngModel)]="searchBy_Order">
                <option value="Id" selected="true">Id</option>
                <option value="Email">Email</option>
                <option value="Name">Tên</option>
                <option value="TotalPrice">Tổng giá</option>
            </select>
        </div>
        <div *ngIf="isGettingSearchResult">
            <p>Đang tải kết quả tìm kiếm</p>
            <div class="spinner-border text-info" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>

    </div>
</div>

<div class="col" *ngIf="active_tab=='user'">
    <div class="div-center-content" style="margin-top: -25px;margin-bottom: 15px;" id='searchBarProduct'>
        <div class="wrap">
            <div class="search">
                <input type="text" class="searchTerm" placeholder="Bạn đang tìm người dùng nào?"
                    [(ngModel)]="searchKey_User" (keyup.enter)="getSearchResultUser(user_search)">
                <button type="submit" class="searchButton" (click)="getSearchResultUser(user_search)">
                    <i class="fa fa-search"></i>
                </button>
            </div>
        </div>
        <div class="form-group">
            <label>Tìm kiếm bằng : </label>
            <select class="form-select" [(ngModel)]="searchBy_User">
                <option value="Id" selected="true">Id</option>
                <option value="Email">Email</option>
                <option value="Name">Tên</option>
                <option value="Phone">SDT</option>
            </select>
        </div>
        <div *ngIf="isGettingSearchResult">
            <p>Đang tải kết quả tìm kiếm</p>
            <div class="spinner-border text-info" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>

    </div>
</div>

<div class="col" *ngIf="active_tab=='employee'">
    <div class="div-center-content" style="margin-top: -25px;margin-bottom: 15px;" id='searchBarProduct'>
        <div class="wrap">
            <div class="search">
                <input type="text" class="searchTerm" placeholder="Bạn đang tìm nhân viên nào?"
                    [(ngModel)]="searchKey_Employee" (keyup.enter)="getSearchResultEmployee(employee_search)">
                <button type="submit" class="searchButton" (click)="getSearchResultEmployee(employee_search)">
                    <i class="fa fa-search"></i>
                </button>
            </div>
        </div>
        <div class="form-group">
            <label>Tìm kiếm bằng : </label>
            <select class="form-select" [(ngModel)]="searchBy_Employee">
                <option value="Id" selected="true">Id</option>
                <option value="Email">Email</option>
                <option value="Name">Tên</option>
                <option value="Phone">SDT</option>
            </select>
        </div>
        <div *ngIf="isGettingSearchResult">
            <p>Đang tải kết quả tìm kiếm</p>
            <div class="spinner-border text-info" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>

    </div>
</div>

<!-- POSTS -->
<section id="posts" *ngIf="!isLoading" class="mb-3">
    <div class="container-fluid">

        <div class="row">

            <div class="col" *ngIf="active_tab=='user'">
                <div class="card ">
                    <div class="card-header">
                        <h4><i class="far fa-user-circle"></i> Danh sách người dùng</h4>
                        <hr>
                        <div class="d-flex justify-content-between">
                            <button class="btn btn-info " (click)="openAddUserModal(newUser)">
                                <i class="fas fa-plus"></i> Thêm tài khoản
                            </button>
                            <button class="btn btn-info " (click)="getUser()">
                                <i class="fas fa-sync-alt"></i> Tải lại
                            </button>
                            <button class="btn btn-info " (click)="ExportTOExcel('User')">
                                <i class="fas fa-download"></i> Tải file excel
                            </button>
                        </div>

                        <hr>
                        <div class="d-flex flex-wrap justify-content-around ">
                            <div class="form-group">
                                <label>Sắp xếp theo: </label>
                                <select class="form-select" [(ngModel)]="orderUser" (change)=" getUser()">
                                    <option value="Id" selected="true">Id</option>
                                    <option value="Email">Email</option>
                                    <option value="Name">Tên</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Asc/Desc: </label>
                                <select class="form-select" [(ngModel)]="orderDirUser" (change)="  getUser()">
                                    <option value="Asc">
                                        <p>Asc<i class="fas fa-sort-amount-up-alt"></i></p>
                                    </option>
                                    <option value="Desc">
                                        <p>Desc<i class="fas fa-sort-amount-down"></i></p>
                                    </option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Hiển thị: </label>
                                <select class="form-select" [(ngModel)]="pageSizeUser" (change)=" getUser()">
                                    <option value="5" selected="true">5</option>
                                    <option value="2">2</option>
                                    <option value="10">10</option>
                                    <option value="20">20</option>
                                    <option value="50">50</option>
                                </select>
                            </div>
                        </div>
                        <hr>
                    </div>
                    <div class="table-responsive" #TABLE>
                        <table class="table  ">
                            <thead class="thead-dark">
                                <tr>
                                    <th>Thông tin</th>
                                    <th>Email</th>
                                    <th>SDT</th>
                                    <th>Đã xác thực</th>
                                    <th>Số đơn hàng</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let o of pagedUserList,index as i">

                                    <td>
                                        <img src="{{o.imgUrl}}" style="width: 40px;height: 40px;">
                                        <p class="text-tron text-monospace">{{o.displayName}}({{o.roles[0]}})</p>
                                    </td>
                                    <td style="word-break: break-all;">{{o.email}}</td>
                                    <td>{{o.phoneNumber}}</td>
                                    <td *ngIf="o.emailConfirmed">
                                        <p class="text-tron text-success"><i class="fas fa-check"></i></p>
                                        <p class="d-no">1</p>
                                    </td>
                                    <td *ngIf="!o.emailConfirmed">
                                        <p class="text-tron text-danger"><i class="fas fa-times"></i></p>
                                        <p class="d-no">0</p>
                                    </td>
                                    <td>
                                        {{o.orderCount}}
                                    </td>

                                    <td>
                                        <button class="btn btn-info btn-sm admin-button mr-2"
                                            (click)="openEditUserModal(changeProfile,o)">
                                            <i class="far fa-edit"></i>
                                        </button>
                                        <button class="btn btn-danger btn-sm admin-button "
                                            (click)="openDeleteUserModal(deleteUser,o.id)">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="container d-flex justify-content-center ">
                        <div class="row">
                            <div class="col">
                                <div id="ng-pagi">
                                    <ngb-pagination [(page)]="pageNumberUser" [pageSize]="pageSizeUser"
                                        [collectionSize]="userList.length" [maxSize]="3" [boundaryLinks]=true
                                        (pageChange)="getPagedUserList()" size="sm">
                                    </ngb-pagination>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ---------------------------------------------------------------------------------------------------- -->

            <div class="col" *ngIf="active_tab=='employee'">
                <div class="card ">
                    <div class="card-header">
                        <h4><i class="fas fa-id-card-alt"></i> Nhân viên</h4>
                        <hr>
                        <div class="d-flex justify-content-between">
                            <button class="btn btn-info " (click)="openAddEmployeeModal(newEmployee)">
                                <i class="fas fa-plus"></i> Thêm nhân viên
                            </button>
                            <button class="btn btn-info " (click)="getEmployee()">
                                <i class="fas fa-sync-alt"></i> Tải lại
                            </button>
                            <button class="btn btn-info " (click)="ExportTOExcel('NhanVien')">
                                <i class="fas fa-download"></i> Tải file excel
                            </button>
                        </div>

                        <hr>
                        <div class="d-flex flex-wrap justify-content-around ">
                            <div class="form-group">
                                <label>Role: </label>
                                <select class="form-select" [(ngModel)]="roleEmployee" (change)=" getEmployee()">
                                    <option value="all" selected="true">Toàn bộ</option>
                                    <option value="Employee">Nhân viên</option>
                                    <option value="Shipper">Shipper</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Sắp xếp theo: </label>
                                <select class="form-select" [(ngModel)]="orderEmployee" (change)=" getEmployee()">
                                    <option value="Id" selected="true">Id</option>
                                    <option value="Email">Email</option>
                                    <option value="Name">Tên</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Asc/Desc: </label>
                                <select class="form-select" [(ngModel)]="orderDirEmployee" (change)="  getEmployee()">
                                    <option value="Asc">
                                        <p>Asc<i class="fas fa-sort-amount-up-alt"></i></p>
                                    </option>
                                    <option value="Desc">
                                        <p>Desc<i class="fas fa-sort-amount-down"></i></p>
                                    </option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Hiển thị: </label>
                                <select class="form-select" [(ngModel)]="pageSizeEmployee" (change)=" getEmployee()">
                                    <option value="5" selected="true">5</option>
                                    <option value="2">2</option>
                                    <option value="10">10</option>
                                    <option value="20">20</option>
                                    <option value="50">50</option>
                                </select>
                            </div>
                        </div>
                        <hr>
                    </div>
                    <div class="table-responsive" #TABLE>
                        <table class="table ">
                            <thead class="thead-dark">
                                <tr>

                                    <th>Thông tin</th>
                                    <th>Giới tính</th>
                                    <th>CMND</th>
                                    <th>Email</th>
                                    <th>SDT</th>
                                    <th>Địa chỉ</th>
                                    <th>Lương</th>
                                    <th>Ngày bắt đầu</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let o of pagedEmployeeList,index as i">

                                    <td>
                                        <img src="{{o.imgUrl}}" style="width: 40px;height: 40px;">
                                        <p class="text-tron text-monospace">{{o.displayName}}({{o.roles[0]}})</p>


                                    </td>
                                    <td>
                                        <p class="text-tron text-monospace" *ngIf="o.Sex=='M'">Nam</p>
                                        <p class="text-tron text-monospace" *ngIf="o.Sex=='F'">Nữ</p>
                                    </td>
                                    <td>
                                        <p class="text-tron text-monospace">{{o.CMND}}</p>
                                    </td>
                                    <td style="word-break: break-all;">{{o.email}}</td>
                                    <td>{{o.phoneNumber}}</td>
                                    <td>{{o.Address}}</td>
                                    <td>{{o.Salary}}</td>
                                    <td>{{o.StartDate}}</td>
                                    <td>
                                        <button class="btn btn-info btn-sm admin-button mr-2"
                                            (click)="openEditEmployeeModal(edit_Employee,o)">
                                            <i class="far fa-edit"></i>
                                        </button>
                                        <button class="btn btn-info btn-sm admin-button mr-2"
                                            *ngIf="o.roles[0]=='Shipper'"
                                            (click)="openShipperHistoryModal(shipper_history,o.id)">
                                            <i class="fas fa-history"></i>
                                        </button>
                                        <button class="btn btn-danger btn-sm admin-button "
                                            (click)="openDeleteEmployeeModal(delete_Employee,o)">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="container d-flex justify-content-center ">
                        <div class="row">
                            <div class="col">
                                <div id="ng-pagi">
                                    <ngb-pagination [(page)]="pageNumberEmployee" [pageSize]="pageSizeEmployee"
                                        [collectionSize]="employeeList.length" [maxSize]="3" [boundaryLinks]=true
                                        (pageChange)="getPagedEmployee()" size="sm">
                                    </ngb-pagination>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <!-- ---------------------------------------------------------------------------------------------------- -->

            <div class="col" *ngIf="active_tab=='order'">
                <div class="card ">
                    <div class="card-header">
                        <h4><i class="fas fa-shopping-cart"></i> Đơn hàng</h4>
                        <hr>
                        <div class="d-flex justify-content-between">
                            <button class="btn btn-info " (click)="getOrder()">
                                <i class="fas fa-sync-alt"></i> Tải lại
                            </button>
                        </div>
                        <hr>
                        <div class="d-flex flex-wrap justify-content-around ">
                            <div class="form-group">
                                <label>Trạng thái: </label>
                                <select class="form-select" [(ngModel)]="status" (change)=" onPageSizeStatusChage()">
                                    <option value="99" selected="true">Tất cả</option>
                                    <option value="0">Chưa duyệt</option>
                                    <option value="1">Đã duyệt</option>
                                    <option value="2">Đang giao</option>
                                    <option value="3">Hoàn thành</option>
                                    <option value="4">Hủy</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Sắp xếp theo: </label>
                                <select class="form-select" [(ngModel)]="orderOrder"
                                    (change)=" onPageSizeStatusChage()">
                                    <option value="Id" selected="true">Id</option>
                                    <option value="Price">Tổng giá </option>
                                    <option value="OrderDate">Ngày đặt</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Asc/Desc: </label>
                                <select class="form-select" [(ngModel)]="orderDirOrder"
                                    (change)=" onPageSizeStatusChage()">
                                    <option value="Asc">
                                        <p>Asc<i class="fas fa-sort-amount-up-alt"></i></p>
                                    </option>
                                    <option value="Desc">
                                        <p>Desc<i class="fas fa-sort-amount-down"></i></p>
                                    </option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Hiển thị: </label>
                                <select class="form-select" [(ngModel)]="pageSizeOrder"
                                    (change)=" onPageSizeStatusChage()">
                                    <option value="5" selected="true">5</option>
                                    <option value="2">2</option>
                                    <option value="10">10</option>
                                    <option value="20">20</option>
                                    <option value="50">50</option>
                                </select>
                            </div>
                        </div>
                        <hr>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-striped  ">
                            <thead class="thead-dark">
                                <tr>
                                    <th>Id</th>
                                    <th>Thông tin liên lạc</th>
                                    <th>Ngày đặt</th>
                                    <th>Ngày giao</th>
                                    <th>Số SP</th>
                                    <th>Tổng tiền</th>
                                    <th>Trạng thái</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let o of orderList,index as i">

                                    <td>
                                        <p class="text-tron text-monospace">{{o.id}}</p>
                                    </td>
                                    <td>
                                        <p class="text-tron text-monospace">{{o.contactName}}</p>
                                        <p class="text-tron text-monospace">{{o.address}}</p>
                                        <p class="text-tron text-monospace">{{o.email}}</p>
                                    </td>
                                    <td>
                                        <p class="text-tron text-monospace">{{o.orderDate}}</p>
                                    </td>
                                    <td>
                                        <p class="text-tron text-monospace" *ngIf="shippingInfos[i]!=null">
                                            <span
                                                *ngIf="shippingInfos[i].deliveryDate">{{shippingInfos[i].deliveryDate}}</span>
                                            <span *ngIf="!shippingInfos[i].deliveryDate">---</span>
                                        </p>
                                        <p class="text-tron text-monospace" *ngIf="!shippingInfos[i]">---</p>
                                    </td>
                                    <td>
                                        <p class="text-tron text-monospace">{{o.totalItem}}</p>
                                    </td>
                                    <td>
                                        <p class="text-tron text-monospace">{{(o.totalPrice)| currency:'VND':''}} <span
                                                style="text-decoration: underline;">đ</span></p>
                                    </td>
                                    <td *ngIf="o.status==0">
                                        <span class="badge bg-info text-dark">Chưa duyệt</span>
                                    </td>
                                    <td *ngIf="o.status==1">
                                        <span class="badge bg-success">Đã duyệt</span>
                                    </td>
                                    <td *ngIf="o.status==2">
                                        <span class="badge bg-warning text-dark">Đang giao</span>
                                    </td>
                                    <td *ngIf="o.status==3">
                                        <span class="badge bg-danger">Hoàn thành</span>
                                    </td>
                                    <td *ngIf="o.status==4">
                                        <span class="badge bg-secondary">Hủy</span>
                                    </td>
                                    <td>
                                        <button class="btn btn-warning  btn-sm admin-button mr-2"
                                            (click)="openOrderInfoModal(order_info,o)">
                                            <i class="fas fa-box-open"></i></button>
                                        <button class="btn btn-info  btn-sm admin-button mr-2"
                                            (click)="openEditOrderInfoModal(edit_order,o)" *ngIf="o.status==0">
                                            <i class="far fa-edit"></i>
                                        </button>
                                        <button class="btn btn-danger btn-sm admin-button"
                                            (click)="openDeleteOrderInfoModal(order_delete,o)">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="container d-flex justify-content-center ">
                        <div class="row">
                            <div class="col">
                                <div id="ng-pagi">
                                    <ngb-pagination [(page)]="pageNumberOrder" [pageSize]="pageSizeOrder"
                                        [collectionSize]="collectionSizeOrder" [maxSize]="3" [boundaryLinks]=true
                                        (pageChange)="getOrder()" size="sm">
                                    </ngb-pagination>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>



            <!-- ------------------------------------------------------------------------------------------------------------------ -->

            <div class="col" *ngIf="active_tab=='product'">
                <div class="card ">
                    <div class="card-header">
                        <h4><i class="fas fa-box-open"></i> Sản phẩm</h4>
                        <hr>
                        <div class="d-flex justify-content-between">
                            <button class="btn btn-info" (click)="openAddProductModal(add_product)">
                                <i class="fas fa-plus"></i> Thêm sản phẩm
                            </button>
                            <button class="btn btn-info " (click)="getProduct()">
                                <i class="fas fa-sync-alt"></i> Tải lại
                            </button>
                            <button class="btn btn-info " (click)="ExportTOExcel('SanPham')">
                                <i class="fas fa-download"></i> Tải file excel
                            </button>
                        </div>
                        <hr>
                        <div class="d-flex flex-wrap justify-content-around ">
                            <div class="form-group">
                                <label>Danh mục: </label>
                                <select class="form-select" [(ngModel)]="category"
                                    (change)=" onPageSizeCategoryChange()">
                                    <option value="all" selected="true">Tất cả</option>
                                    <option value="Fruit">Trái cây</option>
                                    <option value="Vegetable">Rau củ</option>
                                    <option value="Confectionery">Bánh kẹo</option>
                                    <option value="Snack">Snack</option>
                                    <option value="AnimalProduct">Thịt tươi sống</option>
                                    <option value="CannedFood">Đồ hộp</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Sắp xếp theo: </label>
                                <select class="form-select" [(ngModel)]="orderProduct"
                                    (change)=" onPageSizeCategoryChange()">
                                    <option value="Id" selected="true">Id</option>
                                    <option value="Price">Giá</option>
                                    <option value="Status">Hiển thị</option>
                                    <option value="Name">Tên</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Asc/Desc: </label>
                                <select class="form-select" [(ngModel)]="orderDirProduct"
                                    (change)="onPageSizeCategoryChange()">
                                    <option value="Asc">
                                        <p>Asc<i class="fas fa-sort-amount-up-alt"></i></p>
                                    </option>
                                    <option value="Desc">
                                        <p>Desc<i class="fas fa-sort-amount-down"></i></p>
                                    </option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Page Size: </label>
                                <select class="form-select" [(ngModel)]="pageSizeProduct"
                                    (change)=" onPageSizeCategoryChange()">
                                    <option value="5" selected="true">5</option>
                                    <option value="2">2</option>
                                    <option value="10">10</option>
                                    <option value="20">20</option>
                                    <option value="50">50</option>
                                    <option value="9999">Toàn bộ</option>
                                </select>
                            </div>
                        </div>
                        <hr>
                    </div>
                    <div class="table-responsive" #TABLE>
                        <table class="table  ">
                            <thead class="thead-dark">
                                <tr>

                                    <th>Thông tin</th>
                                    <th>Mô tả</th>
                                    <th>Giá</th>
                                    <th>Số lượng</th>
                                    <th>Danh mục</th>
                                    <th>Chỉnh sửa</th>
                                    <th>Hiển thị</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let o of productList,index as i">

                                    <td>
                                        <img src="{{o.imgUrl}}" style="width: 40px;height: 40px;">
                                        <p class="text-tron text-monospace">{{o.name}}</p>
                                    </td>
                                    <td>{{o.description}}</td>
                                    <td>{{o.price| currency:'VND':''}} <span
                                            style="text-decoration: underline;">đ</span></td>
                                    <td>{{o.unitInStock}}</td>
                                    <td>
                                        <p class="text-tron text-success">{{getDisplayCategory(o.category)}}</p>
                                    </td>
                                    <td>{{o.lastUpdate}}</td>
                                    <td *ngIf="o.status==1">
                                        <p class="text-tron text-success"><i class="fas fa-check"></i></p>
                                        <p class="d-no">1</p>
                                    </td>
                                    <td *ngIf="o.status==0">
                                        <p class="text-tron text-danger"><i class="fas fa-times"></i></p>
                                        <p class="d-no">0</p>
                                    </td>
                                    <td>
                                        <button class="btn btn-info btn-sm admin-button mr-2"
                                            (click)="openEditProductModal(edit_product,o)">
                                            <i class="far fa-edit"></i>
                                        </button>
                                        <button class="btn btn-danger btn-sm admin-button "
                                            (click)="openDeleteProductModal(deleteProductModal,o.id)">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="container d-flex justify-content-center ">
                        <div class="row">
                            <div class="col">
                                <div id="ng-pagi">
                                    <ngb-pagination [(page)]="pageNumberProduct" [pageSize]="pageSizeProduct"
                                        [collectionSize]="collectionSizeProduct" [maxSize]="3" [boundaryLinks]=true
                                        (pageChange)="getProduct()" size="sm">
                                    </ngb-pagination>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <!-- ------------------------------------------------------------------------------------- -->

            <div class="col p-5" *ngIf="active_tab=='tk'">
                <div class="card ">
                    <div class="card-header">
                        <h4><i class="fas fa-box-open"></i> Thống kê doanh thu</h4>
                        <hr>
                        <div class="d-flex justify-content-evenly">
                            <form [formGroup]="rf7" class="d-flex justify-content-evenly">
                                <div class="form-group">
                                    <label>Từ ngày : </label>
                                    <input class="form-control" type="date" formControlName="from"
                                        (change)="getSaleChart()">
                                </div>
                                <div class="form-group">
                                    <label>Đến ngày : </label>
                                    <input class="form-control" type="date" formControlName="to"
                                        (change)="getSaleChart()">
                                </div>
                            </form>
                        </div>
                        <hr>
                    </div>
                    <div class="d-flex justify-content-center " *ngIf="!isLoading" style="height: 300px;">
                        <ngx-charts-line-chart [legend]=true [showXAxisLabel]=true [showYAxisLabel]=true [xAxis]=true
                            [yAxis]=true [xAxisLabel]="'Ngày'" [yAxisLabel]="'Doanh thu'" [timeline]=true
                            [results]="saleChart" (select)="onSelect($event)" (activate)="onActivate($event)"
                            (deactivate)="onDeactivate($event)">
                        </ngx-charts-line-chart>
                    </div>
                </div>
                <div class="card ">
                    <div class="card-header">
                        <h4><i class="fas fa-box-open"></i> Thống kê đơn hàng</h4>
                        <hr>
                        <div class="d-flex justify-content-evenly">
                            <form [formGroup]="rf8" class="d-flex justify-content-evenly">
                                <div class="form-group">
                                    <label>Từ ngày : </label>
                                    <input class="form-control" type="date" formControlName="from"
                                        (change)="getOrderChart()">
                                </div>
                                <div class="form-group">
                                    <label>Đến ngày : </label>
                                    <input class="form-control" type="date" formControlName="to"
                                        (change)="getOrderChart()">
                                </div>
                            </form>
                        </div>
                        <hr>
                    </div>
                    <div class="d-flex justify-content-center " *ngIf="!isLoading" style="height: 300px;">
                        <ngx-charts-line-chart [legend]=true [showXAxisLabel]=true [showYAxisLabel]=true [xAxis]=true
                            [yAxis]=true [xAxisLabel]="'Ngày'" [yAxisLabel]="'Số đơn hàng'" [timeline]=true
                            [results]="orderChart" (select)="onSelect($event)" (activate)="onActivate($event)"
                            (deactivate)="onDeactivate($event)">
                        </ngx-charts-line-chart>
                    </div>
                </div>
                <div class="card ">
                    <div class="card-header">
                        <h4><i class="fas fa-box-open"></i> Thống kê sản phẩm</h4>
                        <hr>

                    </div>
                    <div class="d-flex justify-content-center " *ngIf="!isLoading" style="height: 300px;">
                        <ngx-charts-pie-chart [results]="productChart" [gradient]=true [legend]=true [labels]=true
                            [doughnut]=false (select)="onSelect($event)" (activate)="onActivate($event)"
                            (deactivate)="onDeactivate($event)">
                        </ngx-charts-pie-chart>
                    </div>
                </div>

                <div class="card ">
                    <div class="card-header">
                        <h4><i class="fas fa-box-open"></i> Thống kế sản phẩm bán theo danh mục</h4>
                        <hr>

                    </div>
                    <div class="d-flex justify-content-center " *ngIf="!isLoading" style="height: 300px;">
                        <ngx-charts-bar-vertical [results]="categoryChart" [gradient]=true [xAxis]=true [yAxis]=true
                            [legend]=true [showXAxisLabel]=true [showYAxisLabel]=true [xAxisLabel]="'Danh mục'"
                            [yAxisLabel]="'Số lượng bán'" (select)="onSelect($event)">
                        </ngx-charts-bar-vertical>
                    </div>

                </div>

                <div class="card ">
                    <div class="card-header">
                        <h4><i class="fas fa-box-open"></i> Thống kế sản phẩm bán nhiều nhất</h4>
                        <hr>
                        <div class="d-flex flex-wrap justify-content-around ">
                            <div class="form-group">
                                <label>Hiển thị: </label>
                                <select class="form-select" [(ngModel)]="numberOfTopProduct"
                                    (change)="getTopSaleProduct()">
                                    <option value="10" selected="true">Top 10</option>
                                    <option value="20">Top 20</option>
                                    <option value="30">Top 30</option>
                                    <option value="50">Top 50</option>
                                </select>
                            </div>
                        </div>

                    </div>

                    <div class="div-center-content mt-5" *ngIf="!isLoading">
                        <p *ngFor="let o of topSaleProduct">
                            {{o["name"]}} - Số lượng bán : {{o["count"]}}
                            <ngb-progressbar type="success" [value]="(o['count']/topSaleProductCount)*100">
                            </ngb-progressbar>
                        </p>

                    </div>
                </div>
            </div>

            <!-- ------------------------------------------------------------------------------------------ -->
            <!-- eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee -->
            <div class="col" *ngIf="active_tab=='pm'">
                <div class="card ">
                    <div class="card-header">
                        <h4><i class="fas fa-comment-dollar"></i> Danh sách khuyến mãi</h4>
                        <hr>
                        <div class="d-flex justify-content-between">
                            <button class="btn btn-info " (click)="openCreatePromoModal(newPromo)">
                                <i class="fas fa-plus"></i> Thêm khuyến mãi
                            </button>
                            <button class="btn btn-info " (click)="getPromotion()">
                                <i class="fas fa-sync-alt"></i> Tải lại
                            </button>
                        </div>

                        <hr>
                        <div class="d-flex flex-wrap justify-content-around ">
                            <div class="form-group">
                                <label>Trạng thái: </label>
                                <select class="form-select" [(ngModel)]="statusPromo" (change)=" getPromotion()">
                                    <option value="99" selected="true">Tất cả</option>
                                    <option value="0">Chưa diễn ra</option>
                                    <option value="1">Đang diễn ra</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Sắp xếp theo: </label>
                                <select class="form-select" [(ngModel)]="orderPromo" (change)=" getPromotion()">
                                    <option value="Id" selected="true">Id</option>
                                    <option value="Name">Tên</option>
                                    <option value="StartDate">Ngày bắt đầu</option>
                                    <option value="EndDate">Ngày kết thúc</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Asc/Desc: </label>
                                <select class="form-select" [(ngModel)]="orderDirPromo" (change)="  getPromotion()">
                                    <option value="Asc">
                                        <p>Asc<i class="fas fa-sort-amount-up-alt"></i></p>
                                    </option>
                                    <option value="Desc">
                                        <p>Desc<i class="fas fa-sort-amount-down"></i></p>
                                    </option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Hiển thị: </label>
                                <select class="form-select" [(ngModel)]="pageSizePromo" (change)=" getPromotion()">
                                    <option value="5" selected="true">5</option>
                                    <option value="2">2</option>
                                    <option value="10">10</option>
                                    <option value="20">20</option>
                                    <option value="50">50</option>
                                </select>
                            </div>
                        </div>
                        <hr>
                    </div>
                    <div class="table-responsive">
                        <table class="table  ">
                            <thead class="thead-dark">
                                <tr>
                                    <th>Thông tin</th>
                                    <th style="min-width: 200px;">Mô tả</th>
                                    <th>Ngày bắt đầu</th>
                                    <th>Ngày kết thúc</th>
                                    <th>Đang diễn ra</th>
                                    <th></th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let o of promoList,index as i">

                                    <td>
                                        <img src="{{o.imgUrl}}" style="width: 240px;height: 120px;" id="promo-pic">
                                        <p class=" text-monospace">{{o.name}}</p>
                                    </td>
                                    <td>{{o.description}}</td>
                                    <td>{{o.startDate | date:"dd-MM-yyyy"}}</td>
                                    <td>{{o.endDate| date:"dd-MM-yyyy"}}</td>
                                    <td *ngIf="o.status==0">
                                        <p class="text-tron text-success"><i class="fas fa-times"></i></p>
                                    </td>
                                    <td *ngIf="o.status==1">
                                        <p class="text-tron text-success"><i class="fas fa-check"></i></p>
                                    </td>
                                    <td>
                                        <button class="btn btn-warning  btn-sm admin-button mr-2"
                                            (click)="openPromoInfo(promo_info,o)">
                                            <i class="fas fa-search-dollar"></i>
                                        </button>
                                        <button class="btn btn-warning  btn-sm admin-button mr-2"
                                            (click)="openChooseProductPromoModal(pick_pro_promo,o)">
                                            <i class="fas fa-comments-dollar"></i>
                                        </button>

                                    </td>
                                    <td>
                                        <button class="btn btn-info btn-sm admin-button mr-2"
                                            (click)="openEditPromoModal(edit_promo,o)">
                                            <i class="far fa-edit"></i>
                                        </button>
                                        <button class="btn btn-danger btn-sm admin-button mr-2"
                                            (click)="openDeletePromoModal(delete_promo,o)">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="container d-flex justify-content-center ">
                        <div class="row">
                            <div class="col">
                                <div id="ng-pagi">
                                    <ngb-pagination [(page)]="pageNumberPromo" [pageSize]="pageSizePromo"
                                        [collectionSize]="collectionSizePromo" [maxSize]="3" [boundaryLinks]=true
                                        (pageChange)="getPromotion()" size="sm">
                                    </ngb-pagination>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col" id='side-info' *ngIf="active_tab=='db'">
                <div class="row">
                    <div class="col-4">
                        <div class="card text-center bg-primary text-white mb-3">
                            <div class="card-body">
                                <h3>Đơn hàng chưa duyệt</h3>
                                <h4 class="display-4">
                                    <i class="fas fa-pencil-alt"></i> {{dashboardInfo.totalOrder}}
                                </h4>
                                <a (click)="switchTab('order')" class="btn btn-outline-light btn-sm">Xem</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-4">

                        <div class="card text-center bg-success text-white mb-3">
                            <div class="card-body">
                                <h3>Sản phẩm</h3>
                                <h4 class="display-4">
                                    <i class="fas fa-folder"></i>{{dashboardInfo.totalProduct}}
                                </h4>
                                <a (click)="switchTab('product')" class="btn btn-outline-light btn-sm">Xem</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="card text-center bg-warning text-white mb-3">
                            <div class="card-body">
                                <h3>Người dùng</h3>
                                <h4 class="display-4">
                                    <i class="fas fa-users"></i>{{dashboardInfo.totalUser}}
                                </h4>
                                <a (click)="switchTab('user')" class="btn btn-outline-light btn-sm">Xem</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="card ">
                        <div class="card-header">
                            <h4><i class="fas fa-box-open"></i> Thống kê doanh thu</h4>
                            <hr>
                        </div>
                        <div class="card-body border-tron">
                            <div class="d-flex justify-content-center " *ngIf="!isLoading" style="height: 300px;">
                                <ngx-charts-line-chart [legend]=true [showXAxisLabel]=true [showYAxisLabel]=true
                                    [xAxis]=true [yAxis]=true [xAxisLabel]="'Ngày'" [yAxisLabel]="'Doanh thu'"
                                    [timeline]=true [results]="dbSaleChartData" (select)="onSelect($event)"
                                    (activate)="onActivate($event)" (deactivate)="onDeactivate($event)">
                                </ngx-charts-line-chart>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="row">
                    <div class="col-6">
                        <div class="card-header">
                            <h4><i class="fas fa-certificate"></i> Thống kế sản phẩm bán theo danh mục</h4>
                            <hr>

                        </div>
                        <div class="card-body border-tron">
                            <div class="d-flex justify-content-center " *ngIf="!isLoading" style="height: 300px;">
                                <ngx-charts-bar-vertical [results]="DBcategoryChart" [gradient]=true [xAxis]=true
                                    [yAxis]=true [legend]=true [showXAxisLabel]=true [showYAxisLabel]=true
                                    [xAxisLabel]="'Danh mục'" [yAxisLabel]="'Số lượng bán'" (select)="onSelect($event)">
                                </ngx-charts-bar-vertical>
                            </div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="card-header">
                            <h4><i class="fas fa-box-open"></i> Thống kế sản phẩm bán nhiều nhất</h4>
                            <hr>

                        </div>
                        <div class="card-body border-tron">
                            <div class="div-center-content" *ngIf="!isLoading">
                                <p *ngFor="let o of DBtopSaleProduct">
                                    {{o["name"]}} - Số lượng bán : {{o["count"]}}
                                    <ngb-progressbar type="success" [value]="(o['count']/DBtopSaleProductCount)*100">
                                    </ngb-progressbar>
                                </p>

                            </div>
                        </div>

                    </div>
                </div>
                <div class="row">
                    <div class="card ">
                        <div class="card-header">
                            <h4><i class="fas fa-sign"></i> Thống kê đơn hàng</h4>
                        </div>
                        <div class="card-body border-tron">
                            <div class="d-flex justify-content-center " *ngIf="!isLoading" style="height: 300px;">
                                <ngx-charts-line-chart [legend]=true [showXAxisLabel]=true [showYAxisLabel]=true
                                    [xAxis]=true [yAxis]=true [xAxisLabel]="'Ngày'" [yAxisLabel]="'Số đơn hàng'"
                                    [timeline]=true [results]="dbOrderChart" (select)="onSelect($event)"
                                    (activate)="onActivate($event)" (deactivate)="onDeactivate($event)">
                                </ngx-charts-line-chart>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- FOOTER -->
<footer class="site-footer">
    <div class="container">
        <div class="row">
            <div class="col-sm-12 col-md-6">
                <h6>Về chúng tôi</h6>
                <p class="text-justify">Cửa hàng mua thực phẩm online TP.HCM. Chuyên bán các loại rau sạch, củ quả, trái
                    cây, thực phẩm tươi sống</p>
            </div>

            <div class="col-xs-6 col-md-3">
                <h6>Dịch vụ</h6>
                <ul class="footer-links">
                    <li><a>Tìm sản phẩm</a></li>
                    <li><a>Mua sắm trực tuyến</a></li>
                    <li><a>Giao hàng miễn phí</a></li>
                </ul>
            </div>

            <div class="col-xs-6 col-md-3">
                <h6>Quick Links</h6>
                <ul class="footer-links">
                    <li><a href="https://myanimelist.net/" target='_blank'>MyAnimeList.net </a></li>
                    <li><a href="https://jikan.moe/" target='_blank'>Jikan API</a></li>
                    <li><a href="https://github.com/CircleQMinh" target='_blank'>My Github Page</a></li>
                </ul>
            </div>
        </div>
        <hr>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-md-8 col-sm-6 col-xs-12">
                <p class="copyright-text">Copyright &copy; 2021 All Rights Reserved by
                    <a href="#">Circle</a>.
                </p>
            </div>

            <div class="col-md-4 col-sm-6 col-xs-12">
                <ul class="social-icons">
                    <li><a class="facebook" href="#"><i class="fa fa-facebook"></i></a></li>
                    <li><a class="twitter" href="#"><i class="fa fa-twitter"></i></a></li>
                    <li><a class="dribbble" href="#"><i class="fa fa-dribbble"></i></a></li>
                    <li><a class="linkedin" href="#"><i class="fa fa-linkedin"></i></a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>

<ng-template #changeProfile let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Chỉnh sửa tài khoản</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <label for="img">Profile Image</label>
        <div class="input-group">
            <input type="file" id="img" class="form-control" placeholder="imgUrl" name="dp"
                (change)="selectFile($event)">
        </div>
        <div class="d-flex justify-content-center flex-column align-items-center">
            <div [innerHtml]='msg' *ngIf="msg" style="color: red;"></div>
            <img style="width: 100px;height: 100px;margin-top: 10px;" src="{{urlIMG}}">
        </div>

        <label for="des">Tên</label>
        <div class="input-group">
            <input id="des" class="form-control" placeholder="Name..." name="name" [(ngModel)]="newName">
        </div>
        <label for="uis">SDT</label>
        <div class="input-group">
            <input id="uis" class="form-control" placeholder="Phone..." name="phone" [(ngModel)]="newPhone">
        </div>
    </div>
    <div class="modal-footer">
        <div *ngIf="!isUpdateProfile">

            <button type="button" class="btn btn-outline-dark" style="background-color: rgb(25, 216, 41);"
                (click)="saveProfile()">Lưu</button>
            <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss('Cross click')">Hủy</button>
        </div>
        <div class="loading-full" style="height: 100px;" *ngIf="isUpdateProfile">
            <div class="spinner-border text-info" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="text monospace">Xin chờ 1 xíu...</p>
        </div>
    </div>
</ng-template>


<ng-template #newUser let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Thêm người dùng</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="rf1">
            <label for="email">Email</label>
            <div class="input-group">
                <input id="email" class="form-control" placeholder="Email..." name="email" formControlName="email">

            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf1.controls.email?.errors?.required&&showFormError">
                Email chưa điền!
            </div>
            <div class="col alert alert-danger" role="alert" *ngIf="rf1.controls.email?.errors?.email&&showFormError">
                Email chưa hợp lệ!
            </div>

            <label for="pass">Password</label>
            <div class="input-group">
                <input id="pass" class="form-control" placeholder="Password..." name="pass" type="password"
                    formControlName="password">
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf1.controls.password?.errors?.required&&showFormError">
                Password chưa điền!
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf1.controls['password'].hasError('minlength')&&showFormError">
                Password phải có ít nhất 8 kí tự!
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf1.controls['password'].hasError('pattern')&&showFormError">
                Password phải thõa : <br>
                Chữ thường <br>
                Chữ in <br>
                Số <br>
                Kí tự đặc biệt <br>
            </div>

            <label for="des">Tên tài khoản</label>
            <div class="input-group">
                <input id="des" class="form-control" placeholder="Username..." name="name" formControlName="username">
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf1.controls.username?.errors?.required&&showFormError">
                Tên tài khoản chưa điền!
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf1.controls['username'].hasError('minlength')&&showFormError">
                Tên tài khoản ít nhất 3 kí tự!
            </div>
            <label for="uis">Phone</label>
            <div class="input-group">
                <input id="uis" class="form-control" placeholder="Phone..." name="phone" type="tel"
                    formControlName="phone">
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf1.controls.phone?.errors?.required&&showFormError">
                SDT chưa điền!
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf1.controls['phone'].hasError('pattern')&&showFormError">
                SDT chưa hợp lệ!
            </div>
            <label for="role">Role</label>
            <div class="input-group">
                <select class="form-select" formControlName="role">
                    <option selected value="User">Khách</option>
                </select>
            </div>
            <label for="img">Profile Image</label>
            <div class="input-group">
                <input type="file" id="img" class="form-control" placeholder="imgUrl" name="dp"
                    (change)="selectFile($event)">
            </div>
            <img style="width: 100px;height: 100px;margin-top: 10px;" src="{{urlIMG}}">
        </form>
    </div>
    <div class="modal-footer">
        <div *ngIf="!isCreatingUser">

            <button type="button" class="btn btn-outline-dark" style="background-color: rgb(25, 216, 41);"
                (click)="createProfile()">Lưu</button>
            <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss('Cross click')">Hủy</button>
        </div>
        <div class="loading-full" style="height: 100px;" *ngIf="isCreatingUser">
            <div class="spinner-border text-info" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="text monospace">Xin chờ 1 xíu...</p>
        </div>
    </div>
</ng-template>


<ng-template #deleteUser let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Xóa tài khoản </h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <p class="text-tron text-monospace">Xóa tài khoản này?</p>
    </div>
    <div class="modal-footer">
        <div *ngIf="!isDeletingUser">

            <button type="button" class="btn btn-outline-dark" style="background-color: rgb(25, 216, 41);"
                (click)="deleteProfile()">Xóa</button>
            <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss('Cross click')">Hủy</button>
        </div>
        <div class="loading-full" style="height: 100px;" *ngIf="isDeletingUser">
            <div class="spinner-border text-info" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="text monospace">Xin chờ 1 xíu...</p>
        </div>
    </div>
</ng-template>


<ng-template #add_product let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Thêm sản phẩm</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="rf2">
            <div class="form-group">
                <label for="name">Tên SP</label>
                <p class="text-center" *ngIf="rf2.controls.name?.errors?.required&&showFormError">
                    <i class="fas fa-exclamation-triangle"></i>Chưa có tên sản phẩm!
                </p>
                <div class="input-group">
                    <input id="name" class="form-control" placeholder="name..." name="name" formControlName="name">
                </div>
                <label for="price">Giá</label>
                <p class="text-center" *ngIf="rf2.controls.price?.errors?.required&&showFormError">
                    <i class="fas fa-exclamation-triangle"></i>Giá không hợp lệ!
                </p>
                <p class="text-center" *ngIf="rf2.controls['price'].hasError('pattern')&&showFormError">
                    <i class="fas fa-exclamation-triangle"></i>Giá không hợp lệ!
                </p>
                <div class="input-group">
                    <input id="price" class="form-control" placeholder="price..." name="price" type="number"
                        formControlName="price">
                </div>
                <label for="des">Mô tả</label>
                <p class="text-center" *ngIf="rf2.controls.des?.errors?.required&&showFormError">
                    <i class="fas fa-exclamation-triangle"></i>Mô tả SP
                <div class="input-group">
                    <textarea id="des" class="form-control" placeholder="description..." name="des"
                        style="height: 80px;" formControlName="des" multiple></textarea>
                </div>
                <label for="uis">Số lượng</label>
                <p class="text-center" *ngIf="rf2.controls.uis?.errors?.required&&showFormError"><i
                        class="fas fa-exclamation-triangle"></i>Product unit not
                    valid!</p>
                <div class="input-group">
                    <input id="uis" class="form-control" placeholder="unit in stock..." name="unit"
                        formControlName="uis" type="number">
                </div>
                <label for="cate">Danh mục</label>
                <div class="input-group">
                    <select id="cate" class="form-select" placeholder="100" name="cate" formControlName="category">
                        <option value="Fruit" selected>Trái cây</option>
                        <option value="Vegetable">Rau củ</option>
                        <option value="Confectionery">Bánh kẹo</option>
                        <option value="Snack">Snack</option>
                        <option value="AnimalProduct">Thịt tươi sống</option>
                        <option value="CannedFood">Đồ hợp</option>
                    </select>
                </div>

                <label for="cate">Hiển thị</label>
                <div class="input-group">
                    <select id="cate" class="form-select" placeholder="100" name="caste" formControlName="status">
                        <option value="1" selected>Hiển thị</option>
                        <option value="0">Không hiển thị</option>
                    </select>
                </div>

                <label for="img">Ảnh SP</label>
                <p class="text-center" *ngIf="msg"><i class="fas fa-exclamation-triangle"></i>{{msg}}</p>
                <div class="input-group">
                    <input type="file" id="img" class="form-control" placeholder="imgUrl" name="dp"
                        (change)="selectFileProduct($event)">
                </div>
                <img style="width: 100px;height: 100px;margin-top: 10px;" src="{{proImgUrl}}">
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <div *ngIf="!isCreatingProduct">

            <button type="button" class="btn btn-outline-dark" style="background-color: rgb(25, 216, 41);"
                (click)="addProduct()">Thêm</button>
            <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss('Cross click')">Hủy</button>
        </div>
        <div class="loading-full" style="height: 100px;" *ngIf="isCreatingProduct">
            <div class="spinner-border text-info" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="text monospace">Xin chờ 1 xíu...</p>
        </div>
    </div>
</ng-template>

<ng-template #edit_product let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Chỉnh sửa SP</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="rf3">
            <div class="form-group">
                <label for="name">Tên SP</label>
                <p class="text-center" *ngIf="rf3.controls.name?.errors?.required&&showFormError">
                    <i class="fas fa-exclamation-triangle"></i>Chưa có tên sản phẩm!
                </p>
                <div class="input-group">
                    <input id="name" class="form-control" placeholder="name..." name="name" formControlName="name">
                </div>
                <label for="price">Giá</label>
                <p class="text-center" *ngIf="rf3.controls.price?.errors?.required&&showFormError">
                    <i class="fas fa-exclamation-triangle"></i>Giá không hợp lệ!
                </p>
                <p class="text-center" *ngIf="rf3.controls['price'].hasError('pattern')&&showFormError">
                    <i class="fas fa-exclamation-triangle"></i>Giá không hợp lệ!
                </p>
                <div class="input-group">
                    <input id="price" class="form-control" placeholder="price..." name="price" type="number"
                        formControlName="price">
                </div>
                <label for="des">Mô tả</label>
                <p class="text-center" *ngIf="rf3.controls.des?.errors?.required&&showFormError">
                    <i class="fas fa-exclamation-triangle"></i>Mô tả SP
                <div class="input-group">
                    <textarea id="des" class="form-control" placeholder="description..." name="des"
                        style="height: 80px;" formControlName="des" multiple></textarea>
                </div>
                <label for="uis">Số lượng</label>
                <p class="text-center" *ngIf="rf3.controls.uis?.errors?.required&&showFormError"><i
                        class="fas fa-exclamation-triangle"></i>Product unit not
                    valid!</p>
                <div class="input-group">
                    <input id="uis" class="form-control" placeholder="unit in stock..." name="unit"
                        formControlName="uis" type="number">
                </div>
                <label for="cate">Danh mục</label>
                <div class="input-group">
                    <select id="cate" class="form-select" placeholder="100" name="cate" formControlName="category">
                        <option value="Fruit" selected>Trái cây</option>
                        <option value="Vegetable">Rau củ</option>
                        <option value="Confectionery">Bánh kẹo</option>
                        <option value="Snack">Snack</option>
                        <option value="AnimalProduct">Thịt tươi sống</option>
                        <option value="CannedFood">Đồ hộp</option>
                    </select>
                </div>
                <label for="cate">Hiển thị</label>
                <div class="input-group">
                    <select id="cate" class="form-select" placeholder="100" name="catse" formControlName="status">
                        <option value="1" selected>Hiển thị</option>
                        <option value="0">Không hiển thị</option>
                    </select>
                </div>
                <label for="img">Ảnh SP</label>
                <p class="text-center" *ngIf="msg"><i class="fas fa-exclamation-triangle"></i>{{msg}}</p>
                <div class="input-group">
                    <input type="file" id="img" class="form-control" placeholder="imgUrl" name="dp"
                        (change)="selectFileProduct($event)">
                </div>
                <img style="width: 100px;height: 100px;margin-top: 10px;" src="{{proImgUrl}}">
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <div *ngIf="!isEditingProduct">

            <button type="button" class="btn btn-outline-dark" style="background-color: rgb(25, 216, 41);"
                (click)="tryEditProduct()">Edit</button>
            <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss('Cross click')">Cancel</button>
        </div>
        <div class="loading-full" style="height: 100px;" *ngIf="isEditingProduct">
            <div class="spinner-border text-info" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="text monospace">Please wait a sec...</p>
        </div>
    </div>
</ng-template>




<ng-template #deleteProductModal let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Xóa sản phẩm </h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <p class="text-tron text-monospace">Xóa sản phẩm này?</p>
    </div>
    <div class="modal-footer">
        <div *ngIf="!isDeletingProduct">

            <button type="button" class="btn btn-outline-dark" style="background-color: rgb(25, 216, 41);"
                (click)="deleteProduct()">Xóa</button>
            <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss('Cross click')">Hủy</button>
        </div>
        <div class="loading-full" style="height: 100px;" *ngIf="isDeletingProduct">
            <div class="spinner-border text-info" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="text monospace">Xin chờ xíu...</p>
        </div>
    </div>
</ng-template>


<ng-template #order_info let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Thông tin đơn hàng</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="loading-full" *ngIf="isGettingOrderDetail">
            <div class="spinner-border text-info" role="status" style="width: 4rem;height: 4rem;">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="text monospace">Xin chờ 1 xíu...</p>
        </div>
        <div class="table-responsive p-20" *ngIf="!isGettingOrderDetail">
            <p>Tổng SP : {{selectedOrder.totalItem}}</p>
            <p>Tổng giá : {{(selectedOrder.totalPrice)| currency:'VND':''}} <span
                    style="text-decoration: underline;">đ</span></p>
            <p *ngIf="selectedShippingInfo">Shipper : {{selectedShippingInfo.shipper.displayName}}</p>
            <p *ngIf="selectedShippingInfo">Ngày giao : {{selectedShippingInfo.deliveryDate}}</p>
            <table class="table">
                <thead>
                    <tr>
                        <th class="bdwT-0">SP</th>
                        <th class="bdwT-0">Tên</th>
                        <th class="bdwT-0">Giá</th>
                        <th class="bdwT-0">Số lượng</th>
                        <th class="bdwT-0">Giá lẻ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let od of selectedOrder.orderDetails">
                        <td><img style="height: 40px;width: 40px;" src="{{ od.product.imgUrl }}"></td>
                        <td>{{ od.product.name }}</td>
                        <td>{{ od.product.price | currency:'VND':''}} <span style="text-decoration: underline;">đ</span>
                        </td>
                        <td>{{ od.quantity }}</td>
                        <td>{{ (od.product.price*od.quantity)| currency:'VND':''}} <span
                                style="text-decoration: underline;">đ</span></td>
                    </tr>
                </tbody>
            </table>
            <p>Ghi chú : {{selectedOrder.note}}</p>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss('Cross click')">Đóng</button>
    </div>
</ng-template>


<ng-template #edit_order let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Duyệt đơn hàng</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="rf4">
            <div class="form-group">
                <label for="status">Trạng thái</label>
                <div class="input-group">
                    <select id="status" class="form-control" placeholder="100" name="status" formControlName="status">
                        <option value="0">Chưa duyệt</option>
                        <option value="1">Đã duyệt</option>
                    </select>
                </div>
                <label for="des">Ghi chú</label>

                <div class="input-group">
                    <input id="des" class="form-control" placeholder="Note..." name="name" formControlName="note">
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <div *ngIf="!isEditingOrder">

            <button type="button" class="btn btn-outline-dark" style="background-color: rgb(25, 216, 41);"
                (click)="editOrder()">Duyệt</button>
            <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss('Cross click')">Hủy</button>
        </div>
        <div class="loading-full" style="height: 100px;" *ngIf="isEditingOrder">
            <div class="spinner-border text-info" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="text monospace">Xin chờ 1 xíu...</p>
        </div>
    </div>
</ng-template>

<ng-template #order_delete let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Xóa đơn hàng?</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">

        <p class="text-center"><i class="fas fa-exclamation-triangle"></i>Bất cứ thông tin nào liên quan đến đơn hàng sẽ
            bị xóa!</p>
    </div>
    <div class="modal-footer">
        <div *ngIf="!isDeletingOrder">

            <button type="button" class="btn btn-outline-dark" style="background-color: rgb(25, 216, 41);"
                (click)="deleteOrder()">Xóa</button>
            <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss('Cross click')">Hủy</button>
        </div>
        <div class="loading-full" style="height: 100px;" *ngIf="isDeletingOrder">
            <div class="spinner-border text-info" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="text monospace">Xin chờ 1 xíu...</p>
        </div>
    </div>
</ng-template>

<ng-template #rt let-r="result" let-t="term" style="height: 400px;width: 50%;">
    <div>
        <img [src]="r.imgUrl" class="mr-1 typeahead-tron-img">
        <ngb-highlight [result]="r.name" [term]="t" class="text-tron"></ngb-highlight>
    </div>

</ng-template>


<ng-template #newEmployee let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Thêm nhân viên </h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="rf5">
            <label for="email">Email</label>
            <div class="input-group">
                <input id="email" class="form-control" placeholder="Email..." name="email" formControlName="email">

            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf5.controls.email?.errors?.required&&showFormError">
                Email chưa điền!
            </div>
            <div class="col alert alert-danger" role="alert" *ngIf="rf5.controls.email?.errors?.email&&showFormError">
                Email chưa hợp lệ!
            </div>

            <label for="pass">Password</label>
            <div class="input-group">
                <input id="pass" class="form-control" placeholder="Password..." name="pass" type="password"
                    formControlName="password">
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf5.controls.password?.errors?.required&&showFormError">
                Password chưa điền!
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf5.controls['password'].hasError('minlength')&&showFormError">
                Password phải có ít nhất 8 kí tự!
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf5.controls['password'].hasError('pattern')&&showFormError">
                Password phải thõa : <br>
                Chữ thường <br>
                Chữ in <br>
                Số <br>
                Kí tự đặc biệt <br>
            </div>

            <label for="des">Tên</label>
            <div class="input-group">
                <input id="des" class="form-control" placeholder="Username..." name="name" formControlName="username">
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf5.controls.username?.errors?.required&&showFormError">
                Tên chưa điền!
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf5.controls['username'].hasError('minlength')&&showFormError">
                Tên ít nhất 3 kí tự!
            </div>
            <label for="role">Giới tính</label>
            <div class="input-group">
                <select class="form-select" formControlName="sex">
                    <option value="M">Nam</option>
                    <option value="F">Nữ</option>
                </select>
            </div>
            <label for="cmnd">CMND</label>
            <div class="input-group">
                <input id="cmnd" class="form-control" placeholder="CMND..." name="phone" type="tel"
                    formControlName="cmnd">
            </div>
            <div class="col alert alert-danger" role="alert" *ngIf="rf5.controls.cmnd?.errors?.required&&showFormError">
                CMND chưa điền!
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf5.controls['cmnd'].hasError('pattern')&&showFormError">
                CMND chưa hợp lệ!
            </div>
            <label for="uis">SDT</label>
            <div class="input-group">
                <input id="uis" class="form-control" placeholder="Phone..." name="phone" type="tel"
                    formControlName="phone">
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf5.controls.phone?.errors?.required&&showFormError">
                SDT chưa điền!
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf5.controls['phone'].hasError('pattern')&&showFormError">
                SDT chưa hợp lệ!
            </div>
            <label for="address">Địa chỉ</label>
            <div class="input-group">
                <input id="address" class="form-control" placeholder="Address..." name="phone" type="text"
                    formControlName="address">
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf5.controls.address?.errors?.required&&showFormError">
                Địa chỉ chưa điền!
            </div>
            <label for="salary">Lương</label>
            <div class="input-group">
                <input id="salary" class="form-control" placeholder="Salary..." name="phone" type="tel"
                    formControlName="salary">
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf5.controls.salary?.errors?.required&&showFormError">
                Lương chưa điền!
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf5.controls['salary'].hasError('pattern')&&showFormError">
                Lương chưa hợp lệ!
            </div>
            <label for="startDate">Ngày bắt đầu</label>
            <div class="input-group">
                <input id="startDate" class="form-control" placeholder="Salary..." name="phone" type="date"
                    formControlName="startDate">
            </div>
            <label for="role">Role</label>
            <div class="input-group">
                <select class="form-select" formControlName="role">
                    <option value="Employee">Nhân viên</option>
                    <option value="Shipper">Shipper</option>
                </select>
            </div>
            <label for="img">Profile Image</label>
            <div class="input-group">
                <input type="file" id="img" class="form-control" placeholder="imgUrl" name="dp"
                    (change)="selectFile($event)">
            </div>
            <img style="width: 100px;height: 100px;margin-top: 10px;" src="{{urlIMG}}">
        </form>
    </div>
    <div class="modal-footer">
        <div *ngIf="!isCreatingEmployee">

            <button type="button" class="btn btn-outline-dark" style="background-color: rgb(25, 216, 41);"
                (click)="addEmployee()">Lưu</button>
            <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss('Cross click')">Hủy</button>
        </div>
        <div class="loading-full" style="height: 100px;" *ngIf="isCreatingEmployee">
            <div class="spinner-border text-info" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="text monospace">Xin chờ 1 xíu...</p>
        </div>
    </div>
</ng-template>


<ng-template #edit_Employee let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Chỉnh sửa nhân viên </h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="rf6">
            <label for="des">Tên</label>
            <div class="input-group">
                <input id="des" class="form-control" placeholder="Username..." name="name" formControlName="username">
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf6.controls.username?.errors?.required&&showFormError">
                Tên chưa điền!
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf6.controls['username'].hasError('minlength')&&showFormError">
                Tên ít nhất 3 kí tự!
            </div>
            <label for="role">Giới tính</label>
            <div class="input-group">
                <select class="form-select" formControlName="sex">
                    <option value="M">Nam</option>
                    <option value="F">Nữ</option>
                </select>
            </div>
            <label for="cmnd">CMND</label>
            <div class="input-group">
                <input id="cmnd" class="form-control" placeholder="CMND..." name="phone" type="tel"
                    formControlName="cmnd">
            </div>
            <div class="col alert alert-danger" role="alert" *ngIf="rf6.controls.cmnd?.errors?.required&&showFormError">
                CMND chưa điền!
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf6.controls['cmnd'].hasError('pattern')&&showFormError">
                CMND chưa hợp lệ!
            </div>
            <label for="uis">SDT</label>
            <div class="input-group">
                <input id="uis" class="form-control" placeholder="Phone..." name="phone" type="tel"
                    formControlName="phone">
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf6.controls.phone?.errors?.required&&showFormError">
                SDT chưa điền!
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf6.controls['phone'].hasError('pattern')&&showFormError">
                SDT chưa hợp lệ!
            </div>
            <label for="address">Địa chỉ</label>
            <div class="input-group">
                <input id="address" class="form-control" placeholder="Address..." name="phone" type="text"
                    formControlName="address">
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf6.controls.address?.errors?.required&&showFormError">
                Địa chỉ chưa điền!
            </div>
            <label for="salary">Lương</label>
            <div class="input-group">
                <input id="salary" class="form-control" placeholder="Salary..." name="phone" type="tel"
                    formControlName="salary">
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf6.controls.salary?.errors?.required&&showFormError">
                Lương chưa điền!
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf6.controls['salary'].hasError('pattern')&&showFormError">
                Lương chưa hợp lệ!
            </div>
            <label for="startDate">Ngày bắt đầu</label>
            <div class="input-group">
                <input id="startDate" class="form-control" placeholder="Salary..." name="phone" type="date"
                    formControlName="startDate">
            </div>
            <label for="role">Role</label>
            <div class="input-group">
                <select class="form-select" formControlName="role">
                    <option value="Employee">Nhân viên</option>
                    <option value="Shipper">Shipper</option>
                </select>
            </div>
            <label for="img">Profile Image</label>
            <div class="input-group">
                <input type="file" id="img" class="form-control" placeholder="imgUrl" name="dp"
                    (change)="selectFile($event)">
            </div>
            <img style="width: 100px;height: 100px;margin-top: 10px;" src="{{urlIMG}}">
        </form>
    </div>
    <div class="modal-footer">
        <div *ngIf="!isEditingEmployee">

            <button type="button" class="btn btn-outline-dark" style="background-color: rgb(25, 216, 41);"
                (click)="editEmployee()">Lưu</button>
            <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss('Cross click')">Hủy</button>
        </div>
        <div class="loading-full" style="height: 100px;" *ngIf="isEditingEmployee">
            <div class="spinner-border text-info" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="text monospace">Xin chờ 1 xíu...</p>
        </div>
    </div>
</ng-template>


<ng-template #delete_Employee let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Xóa nhân viên này </h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <p class="text-tron text-monospace">Xóa nhân viên này?</p>
    </div>
    <div class="modal-footer">
        <div *ngIf="!isDeletingEmployee">

            <button type="button" class="btn btn-outline-dark" style="background-color: rgb(25, 216, 41);"
                (click)="deleteEmployee()">Xóa</button>
            <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss('Cross click')">Hủy</button>
        </div>
        <div class="loading-full" style="height: 100px;" *ngIf="isDeletingEmployee">
            <div class="spinner-border text-info" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="text monospace">Xin chờ 1 xíu...</p>
        </div>
    </div>
</ng-template>



<ng-template #shipper_history let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Lịch sử giao hàng</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="loading-full" *ngIf=" isGettingShipperHistory">
            <div class="spinner-border text-info" role="status" style="width: 4rem;height: 4rem;">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="text monospace">Xin chờ 1 xíu...</p>
        </div>
        <div class="table-responsive p-20" *ngIf="! isGettingShipperHistory">
            <table class="table">
                <thead>
                    <tr>
                        <th class="bdwT-0">Mã đơn</th>
                        <th class="bdwT-0">Tên khách hàng</th>
                        <th class="bdwT-0">Tổng Giá</th>
                        <th class="bdwT-0">Tổng SP</th>
                        <th class="bdwT-0">Trạng thái</th>
                        <th class="bdwT-0">Thông tin</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let o of selectedShipperHistory">
                        <td>{{o.order.id}}</td>
                        <td>{{o.order.contactName}}</td>
                        <td>{{o.order.totalPrice| currency:'VND':''}} <span style="text-decoration: underline;">đ</span>
                        </td>
                        <td>{{o.order.totalItem}}</td>
                        <td *ngIf="o.order.status==2">
                            <span class="badge bg-warning text-dark">Đang giao</span>
                        </td>
                        <td *ngIf="o.order.status==3">
                            <span class="badge bg-danger">Hoàn thành</span>
                        </td>
                        <td *ngIf="o.order.status==4">
                            <span class="badge bg-secondary">Hủy</span>
                        </td>
                        <td>
                            <button class="btn btn-warning  btn-sm admin-button mr-2"
                                (click)="openOrderInfoModal(order_info,o.order)">
                                <i class="fas fa-box-open"></i>
                            </button>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss('Cross click')">Đóng</button>
    </div>
</ng-template>



<ng-template #newPromo let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Thêm khuyến mãi</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="rf9">
            <label for="email">Tên khuyến mãi</label>
            <div class="input-group">
                <input id="name" class="form-control" placeholder="..." name="1" formControlName="name">

            </div>
            <div class="col alert alert-danger" role="alert" *ngIf="rf9.controls.name?.errors?.required&&showFormError">
                Tên chưa điền!
            </div>

            <label for="email">Mô tả</label>
            <div class="input-group">
                <textarea id="des" class="form-control" placeholder="..." name="des" style="height: 80px;"
                    formControlName="description" multiple></textarea>
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf9.controls.description?.errors?.required&&showFormError">
                Mô tả chưa điền!
            </div>

            <label for="email">Ngày bắt đầu</label>
            <div class="input-group">
                <input id="sd" class="form-control" name="3" formControlName="startDate" type="date">

            </div>
            <label for="email">Ngày kết thúc</label>
            <div class="input-group">
                <input id="ed" class="form-control" name="4" formControlName="endDate" type="date">
            </div>
            <label for="img">Ảnh quảng cáo</label>
            <div class="input-group">
                <input type="file" id="img" class="form-control" placeholder="imgUrl" name="dp"
                    (change)="selectFile($event)">
            </div>
            <img style="width: 200px;height: 100px;margin-top: 10px;" src="{{urlIMG}}">
        </form>
    </div>
    <div class="modal-footer">
        <div *ngIf="!isCreatingPromo">

            <button type="button" class="btn btn-outline-dark" style="background-color: rgb(25, 216, 41);"
                (click)="createPromo()">Lưu</button>
            <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss('Cross click')">Hủy</button>
        </div>
        <div class="loading-full" style="height: 100px;" *ngIf="isCreatingPromo">
            <div class="spinner-border text-info" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="text monospace">Xin chờ 1 xíu...</p>
        </div>
    </div>
</ng-template>

<ng-template #edit_promo let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Chỉnh sửa khuyến mãi </h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="rf10">
            <label for="email">Tên khuyến mãi</label>
            <div class="input-group">
                <input id="name" class="form-control" placeholder="..." name="1" formControlName="name">

            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf10.controls.name?.errors?.required&&showFormError">
                Tên chưa điền!
            </div>

            <label for="email">Mô tả</label>
            <div class="input-group">
                <textarea id="des" class="form-control" placeholder="..." name="des" style="height: 80px;"
                    formControlName="description" multiple></textarea>
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf10.controls.description?.errors?.required&&showFormError">
                Mô tả chưa điền!
            </div>

            <label for="email">Ngày bắt đầu</label>
            <div class="input-group">
                <input id="sd" class="form-control" name="3" formControlName="startDate" type="date">

            </div>
            <label for="email">Ngày kết thúc</label>
            <div class="input-group">
                <input id="ed" class="form-control" name="4" formControlName="endDate" type="date">
            </div>
            <label for="role">Trạng thái</label>
            <div class="input-group">
                <select class="form-select" formControlName="status">
                    <option selected value="0">Chưa diễn ra</option>
                    <option value="1">Đang diễn ra</option>
                </select>
            </div>
            <label for="img">Ảnh quảng cáo</label>
            <div class="input-group">
                <input type="file" id="img" class="form-control" placeholder="imgUrl" name="dp"
                    (change)="selectFile($event)">
            </div>
            <img style="width: 200px;height: 100px;margin-top: 10px;" src="{{urlIMG}}">
        </form>
    </div>
    <div class="modal-footer">
        <div *ngIf="!isEditingPromo">

            <button type="button" class="btn btn-outline-dark" style="background-color: rgb(25, 216, 41);"
                (click)="editPromo()">Lưu</button>
            <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss('Cross click')">Hủy</button>
        </div>
        <div class="loading-full" style="height: 100px;" *ngIf="isEditingPromo">
            <div class="spinner-border text-info" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="text monospace">Xin chờ 1 xíu...</p>
        </div>
    </div>
</ng-template>


<ng-template #delete_promo let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Xóa khuyến mãi này </h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <p class="text-tron text-monospace">Xóa khuyến mãi này?</p>
    </div>
    <div class="modal-footer">
        <div *ngIf="!isDeletingPromo">

            <button type="button" class="btn btn-outline-dark" style="background-color: rgb(25, 216, 41);"
                (click)="deletePromo()">Xóa</button>
            <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss('Cross click')">Hủy</button>
        </div>
        <div class="loading-full" style="height: 100px;" *ngIf="isDeletingPromo">
            <div class="spinner-border text-info" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="text monospace">Xin chờ 1 xíu...</p>
        </div>
    </div>
</ng-template>


<ng-template #promo_info let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Thông tin khuyến mãi</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="loading-full" *ngIf="isGettingPromoInfo">
            <div class="spinner-border text-info" role="status" style="width: 4rem;height: 4rem;">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="text monospace">Xin chờ 1 xíu...</p>
        </div>
        <div class="table-responsive p-20" *ngIf="!isGettingPromoInfo">
            <table class="table">
                <thead>
                    <tr>
                        <th class="bdwT-0">SP</th>
                        <th class="bdwT-0">Tên</th>
                        <th class="bdwT-0">Giá</th>
                        <th class="bdwT-0">Khuyến mãi</th>
                        <th class="bdwT-0"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let o of selectedPromotionInfo">
                        <td><img style="height: 40px;width: 40px;" src="{{ o.product.imgUrl }}"></td>
                        <td>{{ o.product.name }}</td>
                        <td>{{ o.product.price }}</td>
                        <td *ngIf="o.promotionAmount!='null'"><span class="badge bg-danger" ngbTooltip="{{o.promotion.name}}&#013;Bắt đầu : {{o.promotion.startDate}}&#013;Kết thúc : {{o.promotion.endDate}}&#013;Giảm : {{o.promotionAmount}}VND
                        " placement="auto" data-html="true" tooltipClass="tooltip-inner">-{{o.promotionAmount|
                                currency:'VND':''}}
                                <span class="currency-dis">đ</span></span></td>
                        <td *ngIf="o.promotionPercent!='null'"><span class="badge bg-success" ngbTooltip="{{o.promotion.name}}&#013;Bắt đầu : {{o.promotion.startDate}}&#013;Kết thúc : {{o.promotion.endDate}}&#013;Giảm : {{o.promotionPercent}}%
                        " placement="auto" data-html="true"
                                tooltipClass="tooltip-inner">-{{o.promotionPercent}}%</span></td>
                        <td>

                            <button class="btn btn-info  btn-sm admin-button mr-2"
                                (click)="openEditPromoInfo(o,o.product,edit_promoInfo)">
                                <i class="far fa-edit"></i>
                            </button>
                            <button class="btn btn-danger btn-sm admin-button mr-2"
                                (click)="openDeletePromoInfo(o,o.product,delete_promoInfo)">
                                <i class="fas fa-trash"></i>
                            </button>

                        </td>
                    </tr>
                </tbody>
            </table>

        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss('Cross click')">Đóng</button>
    </div>
</ng-template>


<ng-template #pick_pro_promo let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Chọn sản phẩm khuyến mãi</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="loading-full" *ngIf="isGettingPromoInfo">
            <div class="spinner-border text-info" role="status" style="width: 4rem;height: 4rem;">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="text monospace">Xin chờ 1 xíu...</p>
        </div>
        <div class="div-center-content" style="margin-top: -25px;margin-bottom: 15px;" id='searchBarProduct'>
            <div class="wrap">
                <div class="search">
                    <input type="text" class="searchTerm" placeholder="Bạn đang tìm sản phẩm nào?" [(ngModel)]="keyword"
                        [ngbTypeahead]="searchProduct" [resultTemplate]="rt"
                        (selectItem)="selectedItemPromomo($event,add_promoInfo)">
                    <button type="submit" class="searchButton">
                        <i class="fa fa-search"></i>
                    </button>
                </div>
            </div>
        </div>
        <div class="table-responsive p-20" *ngIf="!isGettingPromoInfo">
            <table class="table">
                <thead>
                    <tr>
                        <th class="bdwT-0">SP</th>
                        <th class="bdwT-0">Tên</th>
                        <th class="bdwT-0">Giá</th>
                        <th class="bdwT-0">Thêm khuyến mãi</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let o of allProduct">
                        <td><img style="height: 40px;width: 40px;" src="{{ o.imgUrl }}"></td>
                        <td>{{ o.name }}</td>
                        <td>{{ o.price }}</td>
                        <td>
                            <button class="btn btn-info  btn-sm admin-button mr-2"
                                (click)="openAddPromoInfo(o,add_promoInfo)">
                                <i class="fas fa-plus"></i>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>

        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss('Cross click')">Đóng</button>
    </div>
</ng-template>



<ng-template #add_promoInfo let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Thêm khuyến mãi cho sản phẩm </h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="rf11">

            <label for="email">Id</label>
            <div class="input-group">
                <input id="name" class="form-control" placeholder="..." name="1" formControlName="idSP"
                    [attr.disabled]='true'>
            </div>

            <label for="email">Tên sản phẩm</label>
            <div class="input-group">
                <input id="name" class="form-control" placeholder="..." name="7" formControlName="nameSP"
                    [attr.disabled]='true'>

            </div>
            <label for="email">Giá gốc</label>
            <div class="input-group">
                <input id="name" class="form-control" placeholder="..." name="9" formControlName="priceSP"
                    [attr.disabled]='true'>

            </div>
            <label for="email">Loại hình khuyến mãi</label>
            <div class="input-group">
                <select class="form-select" formControlName="type">
                    <option selected value="0">Theo %</option>
                    <option value="1">Theo đơn vị tiền</option>
                </select>

            </div>
            <label for="email">Giá trị khuyến mãi</label>
            <div class="input-group">
                <input id="ed" class="form-control" name="4" formControlName="number" type="number">
            </div>

        </form>
    </div>
    <div class="modal-footer">
        <div *ngIf="!isCreatingPromoInfo">

            <button type="button" class="btn btn-outline-dark" style="background-color: rgb(25, 216, 41);"
                (click)="addPromoInfo(pick_pro_promo)">Lưu</button>
            <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss('Cross click')">Hủy</button>
        </div>
        <div class="loading-full" style="height: 100px;" *ngIf="isCreatingPromoInfo">
            <div class="spinner-border text-info" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="text monospace">Xin chờ 1 xíu...</p>
        </div>
    </div>
</ng-template>


<ng-template #edit_promoInfo let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Chỉnh sửa khuyến mãi cho sản phẩm </h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="rf12">

            <label for="email">Id</label>
            <div class="input-group">
                <input id="name" class="form-control" placeholder="..." name="1" formControlName="idSP"
                    [attr.disabled]='true'>
            </div>

            <label for="email">Tên sản phẩm</label>
            <div class="input-group">
                <input id="name" class="form-control" placeholder="..." name="7" formControlName="nameSP"
                    [attr.disabled]='true'>

            </div>
            <label for="email">Giá gốc</label>
            <div class="input-group">
                <input id="name" class="form-control" placeholder="..." name="9" formControlName="priceSP"
                    [attr.disabled]='true'>

            </div>
            <label for="email">Loại hình khuyến mãi</label>
            <div class="input-group">
                <select class="form-select" formControlName="type">
                    <option selected value="0">Theo %</option>
                    <option value="1">Theo đơn vị tiền</option>
                </select>

            </div>
            <label for="email">Giá trị khuyến mãi</label>
            <div class="input-group">
                <input id="ed" class="form-control" name="4" formControlName="number" type="number">
            </div>

        </form>
    </div>
    <div class="modal-footer">
        <div *ngIf="!isEditingPromoInfo">

            <button type="button" class="btn btn-outline-dark" style="background-color: rgb(25, 216, 41);"
                (click)="editPromoInfo(promo_info)">Lưu</button>
            <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss('Cross click')">Hủy</button>
        </div>
        <div class="loading-full" style="height: 100px;" *ngIf="isEditingPromoInfo">
            <div class="spinner-border text-info" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="text monospace">Xin chờ 1 xíu...</p>
        </div>
    </div>
</ng-template>


<ng-template #delete_promoInfo let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Xóa sản phẩm khuyến mãi này </h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <p class="text-tron text-monospace">Xóa sản phẩm khỏi khuyến mãi này?</p>
    </div>
    <div class="modal-footer">
        <div *ngIf="!isDeletingPromoInfo">

            <button type="button" class="btn btn-outline-dark" style="background-color: rgb(25, 216, 41);"
                (click)="deletePromoInfo(promo_info)">Xóa</button>
            <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss('Cross click')">Hủy</button>
        </div>
        <div class="loading-full" style="height: 100px;" *ngIf="isDeletingPromoInfo">
            <div class="spinner-border text-info" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="text monospace">Xin chờ 1 xíu...</p>
        </div>
    </div>
</ng-template>


<div class="position-fixed bottom-0 end-0 p-3 admin-notify" style="z-index: 11" *ngIf="showNewOrderNotify">
    <div id="liveToast" class="toast fade show" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
            <svg class="bd-placeholder-img rounded me-2" width="20" height="20" xmlns="http://www.w3.org/2000/svg"
                aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false">
                <rect width="100%" height="100%" fill="#007aff"></rect>
            </svg>

            <strong class="me-auto">Thông báo </strong>
            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"
                (click)="showNewOrderNotify=false"></button>
        </div>
        <div class="toast-body">
            Có đơn hàng mới cần duyệt!
            <button class="btn btn-sm btn-primary" (click)="showNewOrderNotify=false;switchTab('order')">Xem</button>
        </div>
    </div>
</div>



<ng-template #order_search let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Thông tin tìm kiếm</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">

        <p *ngIf="searchResult_Order.length==0">Không tìm thấy đơn hàng!</p>
        <div class="table-responsive p-20" *ngIf="searchResult_Order.length!=0">
            <p>Tổng số kết quả : {{searchResult_Order.length}}</p>
            <table class="table">
                <thead>
                    <tr>
                        <th>Id</th>
                        <th>Thông tin liên lạc</th>
                        <th>Ngày đặt</th>
                        <th>Số SP</th>
                        <th>Tổng tiền</th>
                        <th>Trạng thái</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let o of searchResult_Order,index as i">

                        <td>
                            <p class="text-tron text-monospace">{{o.id}}</p>
                        </td>
                        <td>
                            <p class="text-tron text-monospace">{{o.contactName}}</p>
                            <p class="text-tron text-monospace">{{o.address}}</p>
                            <p class="text-tron text-monospace">{{o.email}}</p>
                        </td>
                        <td>
                            <p class="text-tron text-monospace">{{o.orderDate}}</p>
                        </td>

                        <td>
                            <p class="text-tron text-monospace">{{o.totalItem}}</p>
                        </td>
                        <td>
                            <p class="text-tron text-monospace">{{(o.totalPrice)| currency:'VND':''}} <span
                                    style="text-decoration: underline;">đ</span></p>
                        </td>
                        <td *ngIf="o.status==0">
                            <span class="badge bg-info text-dark">Chưa duyệt</span>
                        </td>
                        <td *ngIf="o.status==1">
                            <span class="badge bg-success">Đã duyệt</span>
                        </td>
                        <td *ngIf="o.status==2">
                            <span class="badge bg-warning text-dark">Đang giao</span>
                        </td>
                        <td *ngIf="o.status==3">
                            <span class="badge bg-danger">Hoàn thành</span>
                        </td>
                        <td *ngIf="o.status==4">
                            <span class="badge bg-secondary">Hủy</span>
                        </td>
                        <td>
                            <button class="btn btn-warning  btn-sm admin-button mr-2"
                                (click)="openOrderInfoModal(order_info,o)">
                                <i class="fas fa-box-open"></i></button>
                            <button class="btn btn-info  btn-sm admin-button mr-2"
                                (click)="openEditOrderInfoModal(edit_order,o)" *ngIf="o.status==0">
                                <i class="far fa-edit"></i>
                            </button>
                            <button class="btn btn-danger btn-sm admin-button"
                                (click)="openDeleteOrderInfoModal(order_delete,o)">
                                <i class="fas fa-trash"></i>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>

        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss('Cross click')">Đóng</button>
    </div>
</ng-template>

<ng-template #user_search let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Thông tin tìm kiếm</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">

        <p *ngIf="searchResult_User.length==0">Không tìm thấy người dùng!</p>
        <div class="table-responsive p-20" *ngIf="searchResult_User.length!=0">
            <p>Tổng số kết quả : {{searchResult_User.length}}</p>
            <table class="table">
                <thead>
                    <tr>
                        <th>Thông tin</th>
                        <th>Email</th>
                        <th>SDT</th>
                        <th>Đã xác thực</th>
                        <th>Số đơn hàng</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>

                    <tr *ngFor="let o of searchResult_User,index as i">

                        <td>
                            <img src="{{o.imgUrl}}" style="width: 40px;height: 40px;">
                            <p class="text-tron text-monospace">{{o.displayName}}({{o.roles[0]}})</p>
                        </td>
                        <td style="word-break: break-all;">{{o.email}}</td>
                        <td>{{o.phoneNumber}}</td>
                        <td *ngIf="o.emailConfirmed">
                            <p class="text-tron text-success"><i class="fas fa-check"></i></p>
                            <p class="d-no">1</p>
                        </td>
                        <td *ngIf="!o.emailConfirmed">
                            <p class="text-tron text-danger"><i class="fas fa-times"></i></p>
                            <p class="d-no">0</p>
                        </td>
                        <td>
                            {{o.orderCount}}
                        </td>

                        <td>
                            <button class="btn btn-info btn-sm admin-button mr-2"
                                (click)="openEditUserModal(changeProfile,o)">
                                <i class="far fa-edit"></i>
                            </button>
                            <button class="btn btn-danger btn-sm admin-button "
                                (click)="openDeleteUserModal(deleteUser,o.id)">
                                <i class="fas fa-trash"></i>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>

        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss('Cross click')">Đóng</button>
    </div>
</ng-template>


<ng-template #employee_search let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Thông tin tìm kiếm</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">

        <p *ngIf="searchResult_Employee.length==0">Không tìm thấy nhân viên!</p>
        <div class="table-responsive p-20" *ngIf="searchResult_Employee.length!=0">
            <p>Tổng số kết quả : {{searchResult_Employee.length}}</p>
            <table class="table">
                <thead>
                    <tr>
                        <th>Thông tin</th>
                        <th>Giới tính</th>
                        <th>CMND</th>
                        <th>Email</th>
                        <th>SDT</th>
                        <th>Địa chỉ</th>
                        <th>Lương</th>
                        <th>Ngày bắt đầu</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let o of searchResult_Employee,index as i">

                        <td>
                            <img src="{{o.imgUrl}}" style="width: 40px;height: 40px;">
                            <p class="text-tron text-monospace">{{o.displayName}}({{o.roles[0]}})</p>


                        </td>
                        <td>
                            <p class="text-tron text-monospace" *ngIf="o.Sex=='M'">Nam</p>
                            <p class="text-tron text-monospace" *ngIf="o.Sex=='F'">Nữ</p>
                        </td>
                        <td>
                            <p class="text-tron text-monospace">{{o.CMND}}</p>
                        </td>
                        <td style="word-break: break-all;">{{o.email}}</td>
                        <td>{{o.phoneNumber}}</td>
                        <td>{{o.Address}}</td>
                        <td>{{o.Salary}}</td>
                        <td>{{o.StartDate}}</td>
                        <td>
                            <button class="btn btn-info btn-sm admin-button mr-2"
                                (click)="openEditEmployeeModal(edit_Employee,o)">
                                <i class="far fa-edit"></i>
                            </button>
                            <button class="btn btn-info btn-sm admin-button mr-2" *ngIf="o.roles[0]=='Shipper'"
                                (click)="openShipperHistoryModal(shipper_history,o.id)">
                                <i class="fas fa-history"></i>
                            </button>
                            <button class="btn btn-danger btn-sm admin-button "
                                (click)="openDeleteEmployeeModal(delete_Employee,o)">
                                <i class="fas fa-trash"></i>
                            </button>
                        </td>
                    </tr>

                </tbody>
            </table>

        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss('Cross click')">Đóng</button>
    </div>
</ng-template>



<ng-template #product_search let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Thông tin tìm kiếm</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">

        <p *ngIf="searchResult_Product.length==0">Không tìm thấy sản phẩm!</p>
        <div class="table-responsive p-20" *ngIf="searchResult_Product.length!=0">
            <p>Tổng số kết quả : {{searchResult_Product.length}}</p>
            <table class="table">
                <thead class="thead-dark">
                    <tr>
                        <th>Id</th>
                        <th>Thông tin</th>
                        <th>Mô tả</th>
                        <th>Giá</th>
                        <th>Số lượng</th>
                        <th>Danh mục</th>
                        <th>Chỉnh sửa</th>
                        <th>Hiển thị</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let o of searchResult_Product,index as i">
                        <td>{{o.id}}</td>
                        <td>
                            <img src="{{o.imgUrl}}" style="width: 40px;height: 40px;">
                            <p class="text-tron text-monospace">{{o.name}}</p>
                        </td>
                        <td>{{o.description}}</td>
                        <td>{{o.price| currency:'VND':''}} <span style="text-decoration: underline;">đ</span></td>
                        <td>{{o.unitInStock}}</td>
                        <td>
                            <p class="text-tron text-success">{{getDisplayCategory(o.category)}}</p>
                        </td>
                        <td>{{o.lastUpdate|date:'medium'}}</td>
                        <td *ngIf="o.status==1">
                            <p class="text-tron text-success"><i class="fas fa-check"></i></p>
                            <p class="d-no">1</p>
                        </td>
                        <td *ngIf="o.status==0">
                            <p class="text-tron text-danger"><i class="fas fa-times"></i></p>
                            <p class="d-no">0</p>
                        </td>
                        <td>
                            <button class="btn btn-info btn-sm admin-button mr-2"
                                (click)="openEditProductModal(edit_product,o)">
                                <i class="far fa-edit"></i>
                            </button>
                            <button class="btn btn-danger btn-sm admin-button "
                                (click)="openDeleteProductModal(deleteProductModal,o.id)">
                                <i class="fas fa-trash"></i>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>

        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss('Cross click')">Đóng</button>
    </div>
</ng-template>