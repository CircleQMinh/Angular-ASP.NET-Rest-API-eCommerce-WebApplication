<app-nav></app-nav>

<!-- 
<div class="container form-reg" >
    <div class="div-center-content" style="margin-bottom: 20px;">

        <img src="https://res.cloudinary.com/dkmk9tdwx/image/upload/v1628192627/logo_v5ukvv.png" style="width: 50%;">
        <strong style="display: block;font-size: 20px;" class="text-monospace">Đăng ký tài khoản</strong>
        <p style="display: block;font-size: 20px;    word-break: break-word;" *ngIf="isLogin">Bạn đã đăng nhập với tài khoản '{{user.displayName}}' sử dụng email : {{user.email}}</p>
    </div>

    <form novalidate (ngSubmit)="trySignUp()" class="row justify-content-md-center" [formGroup]="rf1" *ngIf="!isLogin">
        <div class="col-md-8">
            <div class="col alert alert-danger" role="alert" *ngIf="unknown_error&&showFormError">
                Có lỗi xảy ra ! Xin hãy thử lại.
            </div>
            <div class="form-group row">
                <label for="example-text-input" class="col-2 col-form-label">
                    Email:
                </label>
                <div class="col-10">
                    <input class="form-control" type="email" id="example-text-input" formControlName="email">
                </div>
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf1.controls.email?.errors?.required&&showFormError">
                Email chưa nhập !
            </div>
            <div class="col alert alert-danger" role="alert" *ngIf="rf1.controls.email?.errors?.email&&showFormError">
                Email không hợp lệ!
            </div>
            <div class="col alert alert-danger" role="alert" *ngIf="email_exist_error&&showFormError">
                Email đã được sử dụng!
            </div>
            <div class="form-group row">
                <label for="example-email-input" class="col-2 col-form-label">
                    Password:
                </label>
                <div class="col-10">
                    <input class="form-control" type="password" id="example-email-input" formControlName="password">
                </div>
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf1.controls.password?.errors?.required&&showFormError">
                Password chưa nhập!
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf1.controls['password'].hasError('minlength')&&showFormError">
                Password phải có 8 kí tự!
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf1.controls['password'].hasError('pattern')&&showFormError">
                Password phải thõa : <br>
                    Chữ thường <br>
                    Chữ in <br>
                    Số <br>
                    Kí tự đặc biệt <br>
            </div>
            <div class="form-group row">
                <label for="example-url-fb" class="col-2 col-form-label">
                    Tên tài khoản:
                </label>
                <div class="col-10">
                    <input class="form-control" type="text" id="example-url-fb" formControlName="username">
                </div>
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf1.controls.username?.errors?.required&&showFormError">
                Tên tài khoản chưa nhập!
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf1.controls['username'].hasError('minlength')&&showFormError">
                Tên tài khoản phải ít nhất 3 kí tự!
            </div>

            <div class="form-group row">
                <label for="example-url-fb" class="col-2 col-form-label">
                    SDT:
                </label>
                <div class="col-10">
                    <input class="form-control" type="tel" id="example-url-fb-sdas" formControlName="phone">
                </div>
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf1.controls.phone?.errors?.required&&showFormError">
                SDT chưa nhập!
            </div>
            <div class="col alert alert-danger" role="alert"
                *ngIf="rf1.controls['phone'].hasError('pattern')&&showFormError">
                SDT không hợp lệ!
            </div>

            <div class="form-group row" *ngIf="!isLoading&&!isRegistered">
                <div class="col " style="display: flex;
                justify-content: center;">
             
                    <button class="btn btn-primary" type="submit">Sign Up</button>

                </div>
            </div>
            <div class="form-group row" *ngIf="isLoading">
                <div class="col " style="display: flex;
                justify-content: center;">
                    <div class="spinner-border text-primary" role="status" >

                    </div>

                    <p style="color: rgb(0, 0, 0);" > Đang tải ...</p>
                </div>
            </div>
            <div class="form-group row" *ngIf="isRegistered">
                <div class="col " style="display: flex;
                justify-content: center;">
                    <p style="color: rgb(0, 0, 0);" >Shop đã gửi email xác nhận tài khoản đến email của bạn. Hãy kiểm tra email 
                        để hoàn tất quá trình đăng ký tài khoản</p>
                </div>
            </div>
        </div>
    </form>


</div>
<div class="div-center-content">
    <div class="row justify-content-md-center">
        <div class="col">
            <div class="d-flex flex-column justify-content-center">

                <p class="text-monospace"> Đã có tài khoản ?  </p><button class="btn btn-danger" routerLink="/login"
               >Đăng nhập</button>
                <p class="text-monospace" style="margin-top:15px;"> Quên mật khẩu ?  </p><button class="btn btn-warning" routerLink="/password-recover"
                >Khôi phục</button>
            </div>
        </div>
    </div>
</div> -->

<div class="container-fluid  form-all-con">
    <div class="d-flex justify-content-center  animate__animated animate__rotateIn">
        <div class="user_card" >
            <div class="d-flex justify-content-center mb-5">
                <div class="brand_logo_container ">
                    <img src="https://res.cloudinary.com/dkmk9tdwx/image/upload/v1628192627/logo_v5ukvv.png"
                        class="brand_logo" alt="Logo">
                </div>

            </div>
            <div class="d-flex justify-content-center form_container flex-column align-items-center">
                <strong style="display: block;font-size: 25px;margin-top: 50px;" class="text-monospace">Đăng ký</strong>

                <p style="display: block;font-size: 18px;    word-break: break-word;" *ngIf="isLogin">Bạn đã đăng nhập
                    với tài khoản
                    <a routerLink="/profile/{{user.id}}" style="color: blue;">'{{user.displayName}}'</a> sử dụng email :
                </p>
                <p style="display: block;font-size: 18px;    word-break: break-word;" *ngIf="isLogin">
                    <span class="text-center">{{user.email}}</span>
                </p>

            </div>
            <div class="d-flex justify-content-center form_container">

                <form novalidate (ngSubmit)="trySignUp()" [formGroup]="rf1" *ngIf="!isLogin">
                    <div class="input-group mb-2">
                        <div class="input-group-append">
                            <span class="input-group-text"><i class="fas fa-envelope-open-text"></i></span>
                        </div>
                        <input type="text" name="" class="form-control input_user" value="" placeholder="Email"
                            formControlName="email">
                    </div>
                    <div class="input-group mb-2" role="alert"
                        *ngIf="rf1.controls.email?.errors?.required&&showFormError">
                        &#9658; Email chưa nhập !
                    </div>
                    <div class="input-group mb-2" role="alert" *ngIf="rf1.controls.email?.errors?.email&&showFormError">
                        &#9658; Email không hợp lệ!
                    </div>
                    <div class="input-group mb-2" role="alert" *ngIf="email_exist_error&&showFormError">
                        &#9658; Email đã được sử dụng!
                    </div>
                    <div class="input-group mb-2">
                        <div class="input-group-append">
                            <span class="input-group-text"><i class="fas fa-key"></i></span>
                        </div>
                        <input type="password" name="" class="form-control input_pass" value="" placeholder="Password"
                            formControlName="password">
                    </div>
                    <div class="input-group mb-2" role="alert"
                        *ngIf="rf1.controls.password?.errors?.required&&showFormError">
                        &#9658; Password chưa nhập!
                    </div>
                    <div class="input-group mb-2" role="alert"
                        *ngIf="rf1.controls['password'].hasError('minlength')&&showFormError">
                        &#9658; Password phải có 8 kí tự!
                    </div>
                    <div class="input-group mb-2" role="alert"
                        *ngIf="rf1.controls['password'].hasError('pattern')&&showFormError">
                        &#9658; Password phải có : <br>
                        &bull; Chữ thường <br>
                        &bull; Chữ in <br>
                        &bull; Số <br>
                        &bull; Kí tự đặc biệt <br>
                    </div>
                    <div class="input-group mb-2">
                        <div class="input-group-append">
                            <span class="input-group-text"><i class="fas fa-phone-square"></i></span>
                        </div>
                        <input type="tel" name="" class="form-control input_pass" value="" placeholder="Số điện thoại"
                            formControlName="phone">
                    </div>
                    <div class="input-group mb-2" role="alert"
                        *ngIf="rf1.controls.phone?.errors?.required&&showFormError">
                        &#9658; SDT chưa nhập!
                    </div>
                    <div class="input-group mb-2" role="alert"
                        *ngIf="rf1.controls['phone'].hasError('pattern')&&showFormError">
                        &#9658; SDT không hợp lệ!
                    </div>

                    <div class="input-group mb-2">
                        <div class="input-group-append">
                            <span class="input-group-text"><i class="far fa-user"></i></span>
                        </div>
                        <input type="text" name="" class="form-control input_pass" value=""
                            placeholder="Tên hiển thị" formControlName="username">
                    </div>
                    <div class="input-group mb-2" role="alert"
                        *ngIf="rf1.controls.username?.errors?.required&&showFormError">
                        &#9658; Tên tài khoản chưa nhập!
                    </div>
                    <div class="input-group mb-2" role="alert"
                        *ngIf="rf1.controls['username'].hasError('minlength')&&showFormError">
                        &#9658; Tên tài khoản phải ít nhất 3 kí tự!
                    </div>
                    <div class="d-flex justify-content-center mt-3 login_container" *ngIf="!isLoading&&!isRegistered">
                        <button type="submit" name="button" class="btn login_btn"><i class="fas fa-sign-in-alt"></i>
                            Đăng ký</button>
                    </div>
                    <div class="d-flex justify-content-center mt-3 login_container" *ngIf="isLoading">
                        <div class="col " style="display: flex;
                justify-content: center;">
                            <div class="spinner-border text-primary" role="status">

                            </div>

                            <p style="color: rgb(0, 0, 0);"> Đang tải ...</p>
                        </div>
                    </div>
                    <div class="d-flex justify-content-center mt-3 login_container" *ngIf="isRegistered">
                        <div class="col " style="display: flex;
                        justify-content: center;">
                            <p style="color: rgb(0, 0, 0);">Shop đã gửi email xác nhận tài khoản đến email của bạn. Hãy
                                kiểm tra email
                                để hoàn tất quá trình đăng ký tài khoản</p>
                        </div>
                    </div>
                </form>
            </div>

            <div class="mt-4">
                <div class="d-flex justify-content-center links">
                    Đã có tài khoản? <a routerLink="/login" class="ml-2">Đăng Nhập</a>
                </div>
                <div class="d-flex justify-content-center links">
                    <a routerLink="/password-recover">Quên mật khẩu?</a>
                </div>
            </div>
        </div>
    </div>
</div>


<app-footer></app-footer>